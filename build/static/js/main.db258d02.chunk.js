(this["webpackJsonpsketchfab-configurator-studio"]=this["webpackJsonpsketchfab-configurator-studio"]||[]).push([[0],{23:function(t,e,n){},32:function(t,e,n){},33:function(t,e){window.onclick=function(t){var e=document.getElementById("modal");t.target===e&&(e.style.display="none")}},34:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n(1),o=n.n(a),r=n(7),l=n.n(r),s=(n(23),n(2)),c=n(8),d=n(6),u={modelId:"",materials:[],animations:[],sceneGraph:[],controls:[],textureControls:[],disableButtons:!0,latestControlId:0,sketchfabAPI:null,sceneGraphIsVisible:{},viewMode:"options",surfaceOptionMap:{},surfaceConfigurationMode:!1,materialNameSegmentMap:{},surfaceAttributeNameMap:{},groupingOptions:[]},m=Object(c.b)({name:"viewer",initialState:u,reducers:{resetState:function(t){u},setSketchfabAPI:function(t,e){t.sketchfabAPI=e.payload},setModelId:function(t,e){t.modelId=e.payload},setMaterials:function(t,e){t.materials=e.payload},setAnimations:function(t,e){t.animations=e.payload},setSceneGraph:function(t,e){Object(d.buildSceneGraph)(t,e.payload.children,0),Object(d.buildGeometryCategoryOptions)(t)},setSceneGraphIsVisible:function(t,e){var n=e.payload,i=n.id,a=n.value;t.sceneGraphIsVisible[i]=a},createControl:function(t,e){t.latestControlId=t.latestControlId+=1;var n=t.latestControlId,i={};"animation"===e.payload&&(i={animationUID:"none",startTime:"0",endTime:"0"}),"geometryCategory"===e.payload&&(i={designations:[],geometries:[],hiddenValues:[],allowsAnimation:[]}),t.controls.unshift({type:e.payload,id:n,name:e.payload,entityIndex:"none",entity:{instanceID:0},configuration:i,initialValue:"",isExpanded:!0})},setViewMode:function(t,e){t.viewMode=e.payload},setControls:function(t,e){for(var n=JSON.parse(JSON.stringify(e.payload)),i=0;i<n.length;++i){if("animation"===n[i].type)for(var a=0;a<t.animations.length;++a)n[i].configuration.animationName===t.animations[a][1]&&(n[i].configuration.animationUID=t.animations[a][0]);"textureCategory"===n[i].type&&(t.surfaceConfigurationMode=!0),"geometryCategory"===n[i].type&&void 0===n[i].configuration.hiddenValues&&(n[i].configuration.hiddenValues=[])}t.controls=n},setTextureControls:function(t,e){for(var n=0;n<e.payload.length;++n)t.latestControlId=t.latestControlId+=1,e.payload[n].id=t.latestControlId;t.textureControls=e.payload},addTextureControls:function(t){t.controls=t.controls.concat(t.textureControls)},toggleDisableButtons:function(t){t.disableButtons=!1},updateControl:function(t,e){var n=e.payload,i=n.id,a=n.key,o=n.value;console.log(e.payload);for(var r=0;r<t.controls.length;++r)t.controls[r].id==i&&(t.controls[r][a]=o)},setSurfaceOptionMap:function(t,e){console.log("setSurfaceOptionMap -> action.payload"),console.log(e.payload),t.surfaceOptionMap=e.payload},setSurfaceConfigurationMode:function(t,e){t.surfaceConfigurationMode=e.payload},setMaterialNameSegmentMap:function(t,e){console.log("setMaterialNameSegmentMap -> action.payload:"),console.log(e.payload),t.materialNameSegmentMap=e.payload},setSurfaceAttributeNameMap:function(t,e){t.surfaceAttributeNameMap=e.payload},setUnselectedGeometries:function(t,e){t.groupingOptions=e.payload},setAllNodesVisible:function(t,e){for(var n=0;n<Object.keys(t.sceneGraphIsVisible).length;++n)e.payload?t.sketchfabAPI.show(Object.keys(t.sceneGraphIsVisible)[n]):t.sketchfabAPI.hide(Object.keys(t.sceneGraphIsVisible)[n]),t.sceneGraphIsVisible[Object.keys(t.sceneGraphIsVisible)[n]]=e.payload}}}),p=m.actions,g=(p.resetState,p.setModelId),f=p.createControl,h=p.toggleDisableButtons,b=p.updateControl,v=p.setControls,j=p.setTextureControls,y=p.addTextureControls,O=p.setSceneGraph,x=p.setSceneGraphIsVisible,C=p.setViewMode,N=p.setUnselectedGeometries,k=p.setSurfaceOptionMap,S=p.setSurfaceConfigurationMode,I=p.setMaterialNameSegmentMap,M=p.setSurfaceAttributeNameMap,B=p.setAllNodesVisible,A=p.setAnimations,w=p.setMaterials,E=p.setSketchfabAPI,D=function(t){return t.modelId},T=function(t){return t.materials},_=function(t){return t.animations},L=function(t){return t.controls},G=function(t){return t.disableButtons},q=function(t){return t.sceneGraph},V=function(t){return t.sketchfabAPI},R=function(t){return t.sceneGraphIsVisible},J=function(t){return t.viewMode},U=function(t){return t.surfaceOptionMap},P=function(t){return t.surfaceConfigurationMode},H=function(t){return t.materialNameSegmentMap},z=function(t){return t.groupingOptions},F=function(){return function(t){var e=document.getElementById("import-modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},W=function(){return function(t){var e=document.getElementById("modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},Y=function(){return function(t){var e=document.getElementById("control-choice-modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},Z=m.reducer,$=n(15),K=n.n($),Q=function(t){return function(e){e(v([]));var n,i,a,o,r,l,s=document.getElementById("api-frame"),c=[];o=function(){a.getCurrentTime((function(t,e){if(!n){var i=100*e/r;l.value=i,document.getElementById("timeDisplay").innerHTML=e.toFixed(2),2==e&&a.seekTo(1),requestAnimationFrame(o)}}))},{api:null,config:null,options:[],init:function(t,s){this.config=t,new K.a("1.8.2",s).init(t.urlid,{ui_controls:0,graph_optimizer:0,ui_animations:0,ui_watermark:0,ui_inspector:0,ui_stop:0,ui_infos:0,success:function(t){document.getElementById("animationControls").innerHTML='\n                        <div style="display: flex; justify-content: center;">\n                          <p id="timeDisplay"></p>\n                          <p id="animationName" style="margin-left: 50px;"></p>\n                        </div>\n                        <button id="play">Play</button>\n                        <button id="pause">Pause</button>\n                        <button id="previous">Previous</button>\n                        <button id="next">Next</button>\n                        <input \n                          id="timeSlider" \n                          class="slider timeSlider" \n                          style="width:100%" \n                          type="range" \n                          min="0" \n                          max="100" \n                          step="0.1" \n                          value="0"\n                        />\n                    ',a=t,e(E(t)),t.start(),t.addEventListener("viewerready",function(){this.api=t,t.pause(),t.getAnimations((function(a,s){(c=s,e(A(s)),0==s.length)?document.getElementById("animationControls").innerHTML="":(document.getElementById("pause").addEventListener("click",(function(){t.pause()})),document.getElementById("play").addEventListener("click",(function(){t.play()})),document.getElementById("previous").addEventListener("click",(function(){0===i&&(i=c.length),i--,t.setCurrentAnimationByUID(c[i][0]),t.seekTo(0),r=c[i][2],document.getElementById("animationName").innerHTML=c[i][1]})),document.getElementById("next").addEventListener("click",(function(){++i===c.length&&(i=0),t.setCurrentAnimationByUID(c[i][0]),t.seekTo(0),r=c[i][2],document.getElementById("animationName").innerHTML=c[i][1]})),document.getElementById("animationName").innerHTML=c[0][1],i=0,t.setCurrentAnimationByUID(s[i][0]),r=s[i][2],n=!1,(l=document.getElementById("timeSlider")).addEventListener("change",(function(){n=!1;var t=r*l.value/100;document.getElementById("timeDisplay").innerHTML=t.toFixed(2)})),l.addEventListener("input",(function(){n=!0;var e=r*l.value/100;document.getElementById("timeDisplay").innerHTML=e.toFixed(2),t.pause(),t.seekTo(e)})),o())})),e(h()),t.getSceneGraph((function(t,n){t?console.log("Error getting nodes"):e(O(n))})),t.getMaterialList((function(t,n){e(w(n));var i=Object(d.buildTextureOptions)(n);e(I(i.materialNameSegmentMap)),e(k(i.surfaceOptionMap)),e(M(i.surfaceAttributeNameMap)),e(j(i.surfaceControls))}))}.bind(this))}.bind(this),error:function(){console.log("Viewer error")}})}}.init({urlid:""!==t?t:"9d5bb1c929b142978ee8a780d170e1a5",prefix:"seat "},s)}},X=function(){var t=Object(s.c)(D),e=Object(s.c)(G),n=Object(s.b)();return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("h1",{className:"header__title",children:"Configurator Studio - v1.0.18"}),Object(i.jsxs)("div",{className:"header__buttons",children:[Object(i.jsx)("input",{id:"model-id-input",value:t,onChange:function(t){return n(g(t.target.value))}}),Object(i.jsx)("button",{id:"displayButton",className:"header__button",onClick:function(){return n(Q(t))},children:"Load Model"}),Object(i.jsx)("button",{id:"import-javascript",className:"header__button",disabled:e,onClick:function(){return n(F())},children:"Import Configuration"}),Object(i.jsx)("button",{id:"export-javascript",className:"header__button",disabled:e,onClick:function(){return n(W())},children:"Export"})]})]})},tt=function(){return Object(i.jsxs)("div",{class:"viewer",children:[Object(i.jsx)("iframe",{src:"",id:"api-frame",title:"sketchfab-viewer",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true"}),Object(i.jsx)("div",{id:"animationControls"})]})},et=function(){var t=Object(s.b)();return Object(i.jsx)("div",{id:"import-modal",children:Object(i.jsxs)("div",{className:"modal__content",children:[Object(i.jsx)("span",{class:"close",onClick:function(){return t(F())},children:"\xd7"}),Object(i.jsx)("div",{className:"modal__header",children:Object(i.jsx)("h1",{children:"Paste Controls Here:"})}),Object(i.jsx)("button",{onClick:function(){var e=document.getElementById("js-input").value.replace("var controls = ",""),n=JSON.parse(e);t(v(n)),t(F())},children:"Import"}),Object(i.jsx)("input",{id:"js-input"})]})})},nt=function(t){var e=t.controls,n=t.modelId,i=t.sceneGraph,a=t.materials,o=t.surfaceOptionMap,r=(t.surfaceConfigurationMode,t.materialNameSegmentMap);return"\n// Sketchfab Viewer API: Change Texture/material\nvar version = '1.8.2';\nvar iframe = document.getElementById('api-frame');\nvar client = new window.Sketchfab(version, iframe);\n\nvar uid = '".concat(""===n?"9d5bb1c929b142978ee8a780d170e1a5":n,"';\n\n/*\n\tCOPY THE LINE BELOW\n*/\n\nvar controls = ").concat(JSON.stringify(e),"\n\n/*\n\tCOPY THE LINE ABOVE\n*/\n\nvar myMaterials = ").concat(JSON.stringify(a),"\n\nvar sceneGraph = ").concat(JSON.stringify(i),"\n\nvar isElementCategoryControlled = false;\nvar surfaceConfigurationMode = false;\nvar surfaceOptionMap = ").concat(JSON.stringify(o),";\nvar materialNameSegmentMap = ").concat(JSON.stringify(r),';\n\nvar animationObjects = {};\n\nvar controlsContainer = document.getElementById(\'sketchfab-lower-controls\');\nvar toggleableItems = {};\n\nvar currentAnimation = "";\nvar currentAnimationEndTime = 0;\nvar appContainer = document.querySelector("div.sketchfab__container")\n\nvar appWidth = Number(appContainer.style.width.replace("px",""))\nappContainer.style.display = "block"\n\nvar apiSkfb, pollTime;\n\nvar buildNodeNameArray = function(children, depth) {\n\tfor (let i=0; i<children.length; ++i) {\n\t\tif(children[i].name == undefined) {\n\t\t\tnameArrays.push({name: children[i].type, depth: depth, instanceID: children[i].instanceID});\n\t\t} else {\n\t\t\tnameArrays.push({name: children[i].name, depth: depth, instanceID: children[i].instanceID});\n\t\t}\n\t\tif (children[i].children != undefined || children[i].children != null) {\t\t\t\n\t\t\tbuildNodeNameArray(children[i].children, depth+1);\n\t\t}\n\t}\n}\n\npollTime = function() {\n\tapiSkfb.getCurrentTime(function(err, time) {\n\t\t\n\t\tif (currentAnimationEndTime > 0 && time >= currentAnimationEndTime) {\n\t\t\tapiSkfb.pause();\n\t\t}\n\t\trequestAnimationFrame(pollTime);\n\t});\n};\n\n\nvar success = function(api) {\n    apiSkfb = api;\n\tapi.start(function() {\n\t\tapi.addEventListener(\'viewerready\', function() {\n\t\t\t\n\t\t\tapi.pause();\n\t\t\t\n\t\t\tvar animations = [];\n\t\t\tfor (let i = 0; i < controls.length; ++i) {\t\n\t\t\t\tif (controls[i].type == "animation") {\n\t\t\t\t\tvar animationControls = document.getElementById("sketchfab-animation-controls")\n\t\t\t\t\tanimationControls.style.display = "block";\n\t\t\t\t\t\n\t\t\t\t\tvar animationButtonContainer = document.getElementById("sketchfab-animation-buttons")\n\t\t\t\t\tvar animationButton = document.createElement("button")\n\t\t\t\t\tanimationButton.id = "animation-" + controls[i].id\n\t\t\t\t\tanimationButton.textContent = controls[i].name;\n\t\t\t\t\tanimationButton.addEventListener(\'click\', function(e) {\n\t\t\t\t\t\tvar animationId = e.target.id.split("-")[1]\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar startTime = animationObjects[animationId].startTime;\n\t\t\t\t\t\tvar endTime = animationObjects[animationId].endTime;\n\t\t\t\t\t\tvar animationUID = animationObjects[animationId].uid;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcurrentAnimationEndTime = endTime;\n\t\t\t\t\t\tapi.setCurrentAnimationByUID(animationUID);\n\t\t\t\t\t\tapi.seekTo(startTime);\n\t\t\t\t\t\tapi.play();\n\t\t\t\t\t})\n\t\t\t\t\tanimationButtonContainer.appendChild(animationButton)\n\t\t\t\t\t\n\t\t\t\t\tanimations.push(controls[i]);\n\t\t\t\t\tanimationObjects[controls[i].id] = {name: controls[i].name, startTime: Number(controls[i].configuration.startTime), endTime: Number(controls[i].configuration.endTime), uid: controls[i].configuration.animationUID}; \n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\tsingleControlContainer.classList.add("sketchfab-single-control-container");\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (controls[i].type == "color") {\n\t\t\t\t\tvar resetBut = document.createElement("button");\n\t\t\t\t\tresetBut.innerHTML = "Reset";\n\t\t\t\t\tresetBut.onclick = function(e) {\t\n\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\tm = JSON.parse(JSON.stringify(controls[i].entity));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(resetBut);\n\t\t\t\t\t\n\t\t\t\t\tfor (let j = 0; j < controls[i].additionalColors.length; ++j) {\n\t\t\t\t\t\tvar colorBut = document.createElement("button");\n\n\t\t\t\t\t\tcolorBut.innerHTML = controls[i].additionalColors[j].name;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcolorBut.id = controls[i].id + "-" + controls[i].name\n\t\t\t\t\t\tcolorBut.onclick = function(e) {\t\n\t\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.factor = 1;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.enable = true;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffuseColor.factor = 1;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.enable = true;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffusePBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.enable = false;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.factor = 1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsingleControlContainer.appendChild(colorBut);\n\t\t\t\t\t}\t\n\t\t\t\t} else if (controls[i].type === "geometryCategory") {\t\n\t\t\t\t\tisElementCategoryControlled = true;\n\t\t\t\t\t\n\t\t\t\t\tvar wrapper = initializeSelect(i);\n\t\t\t\t\twrapper.classList.add("sketchfab-geometry-category")\n\t\t\t\t\t\n\t\t\t\t\tvar customOptions = wrapper.querySelector(".sketchfab-options")\n\t\t\t\t\t\n\t\t\t\t\tfor (var j=0; j<controls[i].configuration.geometries.length; ++j) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\tcustomOption.classList.add("sketchfab-option");\n\t\t\t\t\t\tvar name = controls[i].configuration.geometries[j].designation;\n\t\t\t\t\t\tvar humanReadable = controls[i].configuration.geometries[j].humanReadable;\n\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\tcustomOption.id = name + "-" + j + "-" + i;\n\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\tif (controls[i].configuration.geometries[j].designation === controls[i].initialValue) {\n\t\t\t\t\t\t\tcustomOption.classList.add("selected")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function(e) {\n\t\t\t\t\t\t\thandleUpdateSelect(e);\n\t\t\t\t\t\t\tdisableAnimations();\n\t\t\t\t\t\t\thandleHidingGeometryCombinations();\n\t\t\t\t\t\t\tsetVisibleNodes(api);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t} else if (controls[i].type === "textureCategory") {\n\t\t\t\t\tsurfaceConfigurationMode = true\t\t\t\t\t\n\t\t\t\t\tconst { geometryName, options, isPrimary, ordering} = controls[i].configuration\n\t\t\t\t\t\n\t\t\t\t\tvar controlIndex = i;\n\t\t\t\t\tvar wrapper = initializeSelect(controlIndex, geometryName)\n\t\t\t\t\twrapper.classList.add("sketchfab-texture-category")\n\t\t\t\t\twrapper.id = geometryName + "-" + ordering;\n\t\t\t\t\t\n\t\t\t\t\tvar customOptions = wrapper.querySelector(".sketchfab-options")\n\t\t\t\t\t\n\t\t\t\t\t\tfor (var j=0; j<options.length; ++j) {\n\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\tcustomOption.classList.add("sketchfab-option");\n\t\t\t\t\t\t\tconst { name, humanReadable } = options[j];\n\t\t\t\t\t\t\tif (name === controls[i].initialValue) {\n\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\tcustomOption.id = name + "-" + geometryName + "-" + j + "-" + j + "-" + i;\n\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', e => {\n\t\t\t\t\t\t\t\thandleUpdateSelect(e);\t\t\t\n\t\t\t\t\t\t\t\thandleHidingTextureCombinations(api)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\n\t\t\t\t\t\t\n\t\t\t\t} else if (controls[i].type == "toggle") {\n\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\tvar toggleBut = document.createElement("button");\n\t\t\t\t\ttoggleBut.innerHTML = "Toggle " + controls[i].name;\n\t\t\t\t\ttoggleBut.id = controls[i].entity.instanceID;\n\t\t\t\t\ttoggleBut.onclick = function(e) {\n\t\t\t\t\t\tvar isVisible = toggleableItems[e.target.id];\n\t\t\t\t\t\tif (isVisible == "visible") {\n\t\t\t\t\t\t\tapi.hide(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "hidden";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapi.show(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(toggleBut);\n\t\t\t\t}\n\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t}\n\t\t\t\n\n\t\t\tif (isElementCategoryControlled) {\n\t\t\t\tsetVisibleNodes(api);\n\t\t\t\tdisableAnimations();\n\t\t\t\thandleHidingGeometryCombinations();\n\t\t\t}\n\t\t\t\n\t\t\tif (animations.length > 0) {\n\t\t\t\tpollTime();\t\t\t\n\t\t\t}\t\t\t\n\t\t\t\n\t\t\tif (surfaceConfigurationMode) {\n\t\t\t\thandleHidingTextureCombinations(api)\n\t\t\t}\n\t\t\twindow.addEventListener(\'click\', function(e) {\n\t\t\t\tfor (const select of document.querySelectorAll(\'.sketchfab-select\')) {\n\t\t\t\t\tif (!select.contains(e.target)) {\n\t\t\t\t\t\tselect.classList.remove(\'sketchfab-select-open\');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n};\n\nclient.init(uid, {\n\tsuccess: success,\n\terror: () => console.error(\'Sketchfab API error\'),\n\tautostart: 0,\n\tpreload: 0,\n\tui_animations: 0,\n\tui_watermark: 0,\n\tui_inspector: 0,\n\tui_stop: 0,\n\tui_infos: 0,\n});\n\nvar handleHidingTextureCombinations = function(api) {\n\tconsole.log("BEGIN: handleHidingTextureCombinations")\n\t\n\tvar textureSelects = document.getElementsByClassName("sketchfab-texture-category")\t\n\tfor (var i=0; i<textureSelects.length; ++i) {\n\t\tvar options = textureSelects[i].getElementsByClassName("sketchfab-option");\n\t\tvar geometryName = textureSelects[i].id.split("-")[0]\n\t\tvar ordering = textureSelects[i].id.split("-")[1]\n\t\tvar isPrimary = Number(ordering) === 0;\n\t\tif (!isPrimary) {\n\t\t\tvar currentInitialPrimarySelection = document.getElementById(geometryName + "-0").querySelector(".sketchfab-select__trigger span").textContent;\n\t\t\tvar availableOptions = surfaceOptionMap[geometryName][currentInitialPrimarySelection][ordering-1].sort()\n\t\t\tvar previouslyAvailableOptions =  Array.from(options).filter(op => op.style.display === "block").map(op => op.getAttribute("data-value")).sort()\n\t\t\tconsole.log("availableOptions:")\n\t\t\tconsole.log(availableOptions)\n\t\t\tconsole.log("previouslyAvailableOptions:")\n\t\t\tconsole.log(previouslyAvailableOptions)\n\t\t\tlet equal = availableOptions.length == previouslyAvailableOptions.length && availableOptions.every((element, index)=> element === previouslyAvailableOptions[index] );\n\t\t\t\n\t\t\tvar triggerSpan = textureSelects[i].querySelector(".sketchfab-select__trigger span")\n\t\t\t\n\t\t\tif (!equal) {\n\t\t\t\tvar newValue = availableOptions[0];\n\t\t\t\ttriggerSpan.textContent = newValue;\n\t\t\t\tfor (var j=0; j<options.length; ++j) {\n\t\t\t\t\toptions[j].classList.remove("selected")\n\t\t\t\t\tvar optionValue = options[j].getAttribute("data-value")\n\t\t\t\t\tif (optionValue === newValue) {\n\t\t\t\t\t\toptions[j].classList.add("selected")\n\t\t\t\t\t}\n\t\t\t\t\toptions[j].style.display = "none"\n\t\t\t\t\tvar optionValue = options[j].getAttribute("data-value")\n\t\t\t\t\tif (availableOptions.includes(optionValue)) {\n\t\t\t\t\t\toptions[j].style.display = "block"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (var i=0; i<textureSelects.length; ++i) {\n\t\tvar geometryName = textureSelects[i].id.split("-")[0]\n\t\tconfigureMaterials(geometryName, api)\t\t\n\t}\n\n\tconsole.log("END: handleHidingTextureCombinations")\n}\n\nvar configureMaterials = function(geometryName, api) {\n\tconsole.log("BEGIN: configureMaterials")\n\t//get array of selected values\n\tvar relevantSelects = document.getElementsByClassName(geometryName + "-triggerSpan")\n\t//build name string via accessing selected values\n\tvar materialNameString = geometryName + "-";\n\t\n\tfor (var k=0; k<relevantSelects.length; ++k) {\n\t\tmaterialNameString += relevantSelects[k].textContent + "-";\n\t}\n\tconsole.log("materialNameString:")\n\tconsole.log(materialNameString)\n\tvar newMaterial;\n\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\tif (myMaterials[k].name.startsWith(materialNameString)) {\n\t\t\tnewMaterial = JSON.parse(JSON.stringify(myMaterials[k]));\n\t\t}\n\t}\n\tconsole.log("newMaterial:")\n\tconsole.log(newMaterial)\n\t\n\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\tif (myMaterials[k].name === geometryName) {\n\t\t\tmyMaterials[k].channels = JSON.parse(JSON.stringify(newMaterial.channels));\n\t\t\tmyMaterials[k].reflection = newMaterial.reflection;\n\t\t\tmyMaterials[k].reflector = newMaterial.reflector;\n\t\t\tmyMaterials[k].shadeless = newMaterial.shadeless;\n\t\t\tapi.setMaterial(myMaterials[k], function() {console.log("material updated")})\n\t\t}\n\t}\n\tconsole.log("END: configureMaterials")\n}\n\nvar setVisibleNodes = function(api) {\n\tconsole.log("BEGIN: setVisibleNotes")\n\tvar allCategorySelects = document.querySelectorAll(".sketchfab-geometry-category span.sketchfab-select-value")\n\tvar selectedPrefixes = [];\n\t\n\tvar lettersByDesignation = {};\n\tfor (var i=0; i<allCategorySelects.length; ++i) {\n\t\tselectedPrefixes.push(allCategorySelects[i].textContent);\n\t\tlettersByDesignation[selectedPrefixes[i]] = []\n\t}\n\t\n\tvar relevantNodes = [];\n\t\n\tfor (var i=0; i<sceneGraph.length; ++i) {\n\t\tvar indexContainingCodes = i;\n\t\tvar isMatrixTransform = false;\n\t\tif (sceneGraph[i].name === "MatrixTransform") {\n\t\t\tindexContainingCodes = i - 1;\n\t\t\tisMatrixTransform = true;\n\t\t}\n\t\t\n\t\tvar nodeNameArray = sceneGraph[indexContainingCodes].name.split("-")\n\t\tvar currentNodeDesignation = nodeNameArray[0];\n\t\tvar currentNodeLetterCode = nodeNameArray[1];\n\t\tapi.hide(sceneGraph[indexContainingCodes].instanceID);\n\t\t\n\t\tif (selectedPrefixes.includes(currentNodeDesignation)) {\n\t\t\tfor (var j=0; j<currentNodeLetterCode.length; ++j) {\n\t\t\t\tif (lettersByDesignation[currentNodeDesignation].indexOf(currentNodeLetterCode[j]) === -1) {\n\t\t\t\t\tlettersByDesignation[currentNodeDesignation].push(currentNodeLetterCode[j])\n\t\t\t\t}\t\n\t\t\t}\t\t\t\t\t\n\t\t\t\n\t\t\tvar currentUpstreamDepth = Number(sceneGraph[i].depth)\n\t\t\tvar currentUpstreamIndex = i-1;\n\t\t\tvar upStreamRelevantNodes = []\n\t\t\twhile(currentUpstreamDepth > 2) {\n\t\t\t\tif (sceneGraph[currentUpstreamIndex].depth < currentUpstreamDepth) {\n\t\t\t\t\tvar currentUpstreamDesignation = sceneGraph[currentUpstreamIndex].name.split("-")[0]\n\t\t\t\t\tvar currentUpstreamLetterCode = sceneGraph[currentUpstreamIndex].name.split("-")[1]\n\t\t\t\t\tif (currentUpstreamDesignation !== currentNodeDesignation) {\n\t\t\t\t\t\tupStreamRelevantNodes.push({letterCode: currentUpstreamLetterCode, instanceID: sceneGraph[currentUpstreamIndex].instanceID, name: sceneGraph[currentUpstreamIndex].name})\n\t\t\t\t\t}\t\n\t\t\t\t\tcurrentUpstreamDepth = Number(sceneGraph[currentUpstreamIndex].depth);\n\t\t\t\t}\n\t\t\t\tcurrentUpstreamIndex = currentUpstreamIndex - 1;\n\t\t\t}\n\t\t\t\n\t\t\trelevantNodes.push({letterCode: currentNodeLetterCode, instanceID: sceneGraph[i].instanceID, name: sceneGraph[i].name, upStreamRelevantNodes: upStreamRelevantNodes})\t\t\n\t\t}\n\t}\t\t\n\t\n\tvar letters = [];\n\tvar commonLetter = ""\n\tfor (var i=0; i<Object.values(lettersByDesignation).length; ++i) {\n\t\tif (Object.values(lettersByDesignation)[i].length === 1) {\n\t\t\tcommonLetter = Object.values(lettersByDesignation)[i][0]\n\t\t\tbreak;\n\t\t}\n\t\tletters = letters.concat(Object.values(lettersByDesignation)[i])\n\t\tcommonLetter = mode(letters)[0]\n\t}\n\t\n\tfor (var i=0; i<relevantNodes.length; ++i) {\n\t\tif (relevantNodes[i].letterCode.indexOf(commonLetter) != -1) {\n\t\t\tapi.show(relevantNodes[i].instanceID);\n\t\t\tfor (var j=0; j<relevantNodes[i].upStreamRelevantNodes.length; ++j) {\n\t\t\t\tconsole.log("showing upstream node:")\n\t\t\t\tconsole.log(relevantNodes[i].upStreamRelevantNodes[j].name)\n\t\t\t\tapi.show(relevantNodes[i].upStreamRelevantNodes[j].instanceID)\n\t\t\t}\n\t\t}\n\t}\n\tconsole.log("END: setVisibleNodes")\n}\n\nvar mode = function(arr) { \n\tif(arr.filter((x,index) => arr.indexOf(x) == index).length == arr.length) {\n\t\treturn arr; \n\t} else {\n\t\treturn mode(arr.sort((x,index)=>x-index).map((x,index)=>arr.indexOf(x)!=index ? x : null ).filter(x=>x!=null))\n\t}\t\t\n}\n\nvar handleUpdateSelect = function(e) {\n\tconsole.log("BEGIN: handleUpdateSelect")\n\tvar nameCode = e.target.id.split("-")[0]\n\t\n\tif (!e.target.classList.contains(\'selected\')) {\n\t\t\n\t\te.target.parentNode.querySelector(\'.sketchfab-option.selected\').classList.remove(\'selected\');\n\t\te.target.classList.add(\'selected\');\n\t\te.target.closest(\'.sketchfab-select\').querySelector(\'.sketchfab-select__trigger span\').textContent = nameCode;\t\t\t\t\t\t\t\t\n\t}\n\tconsole.log("END: handleUpdateSelect")\n}\n\n\nvar handleHidingGeometryCombinations = function() {\n\t\t\t\t\n\tvar allCategoryOptions = document.querySelectorAll(".sketchfab-geometry-category .sketchfab-option")\n\tvar currentCategorySelections = Array.from(document.querySelectorAll(".sketchfab-geometry-category .sketchfab-select"))\n\t\t\t\t\t\t\t.map(select => select.querySelector(".sketchfab-select-value").textContent)\n\t\t\t\t\t\t\t\n\tvar geometryControls = controls.filter(control => control.type === "geometryCategory")\n\n\tvar disabledOptions = []\n\tfor(var i=0; i<geometryControls.length; ++i) {\n\t\tvar hiddenValues = geometryControls[i].configuration.geometries.filter(geometry => geometry.designation === currentCategorySelections[i])[0].hiddenValues;\n\t\tdisabledOptions = disabledOptions.concat(hiddenValues)\n\t}\n\t\n\tfor (var i=0; i<allCategoryOptions.length; ++i) {\n\t\tallCategoryOptions[i].style.display = "block";\n\t\tif (disabledOptions.includes(allCategoryOptions[i].getAttribute("data-value"))) {\n\t\t\tallCategoryOptions[i].style.display = "none"\n\t\t}\n\t}\n}\n\nvar disableAnimations = function() {\t\t\n\tvar allCategorySelects = document.querySelectorAll(".sketchfab-geometry-category span.sketchfab-select-value")\n\tvar allowAnimations = true;\n\tfor (var i=0; i<allCategorySelects.length; ++i) {\n\t\tvar controlIndex = allCategorySelects[i].id.split("-")[1]\n\t\tvar currentNameCode = allCategorySelects[i].textContent;\n\t\tfor (var j=0; j<controls[controlIndex].configuration.geometries.length; ++j) {\n\t\t\tif (controls[controlIndex].configuration.geometries[j].designation === currentNameCode) {\n\t\t\t\tconsole.log("found matching geometry in control")\n\t\t\t\tif (controls[controlIndex].configuration.geometries[j].allowsAnimation === false) {\n\t\t\t\t\tallowAnimations = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tvar animationButtons = document.querySelectorAll("#sketchfab-animation-buttons button")\n\tfor (var i=0; i<animationButtons.length; ++i) {\n\t\tanimationButtons[i].disabled = true;\n\t}\n\tif (allowAnimations) {\n\t\tfor (var i=0; i<animationButtons.length; ++i) {\n\t\t\tanimationButtons[i].disabled = false;\n\t\t}\t\t\t\t\t\t\n\t}\n}\n\nvar initializeSelect = function(controlIndex, geometryName="") {\n\tconsole.log("BEGIN: initializeSelect:")\n\n\tvar wrapper = document.createElement("div")\n\twrapper.classList.add("sketchfab-select-wrapper")\t\n\twrapper.style.width = (appWidth/4) + "px";\n\t\n\tvar select = document.createElement("div")\n\tselect.classList.add("sketchfab-select")\n\t\n\tvar selectTrigger = document.createElement("div")\n\tselectTrigger.classList.add("sketchfab-select__trigger")\n\t\n\tvar triggerSpan = document.createElement("span")\n\ttriggerSpan.id = "triggerSpan-" + controlIndex;\n\ttriggerSpan.classList.add("sketchfab-select-value")\n\ttriggerSpan.classList.add(geometryName + "-triggerSpan")\n\ttriggerSpan.textContent = controls[controlIndex].initialValue;\n\t\n\tvar arrow = document.createElement("div")\n\tarrow.classList.add("sketchfab-select-arrow")\n\t\n\tvar customOptions = document.createElement("div")\n\tcustomOptions.classList.add("sketchfab-options")\n\tvar selectTitle = document.createElement("h3")\n\tselectTitle.classList.add("sketchfab-title")\n\tselectTitle.textContent = controls[controlIndex].name;\n\t\n\tselectTrigger.appendChild(triggerSpan)\n\tselectTrigger.appendChild(arrow)\n\tcustomOptions.appendChild(selectTitle)\n\tselect.appendChild(selectTrigger)\n\tselect.appendChild(customOptions)\n\twrapper.appendChild(select)\t\n\n\twrapper.addEventListener(\'click\', function() {\n\t\tthis.querySelector(\'.sketchfab-select\').classList.toggle(\'sketchfab-select-open\');\t\n\t})\n\t\n\treturn wrapper;\n\tconsole.log("END: initializeSelect:")\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n')},it=function(){var t=Object(s.b)(),e={controls:Object(s.c)(L),modelId:Object(s.c)(D),sceneGraph:Object(s.c)(q),materials:Object(s.c)(T),surfaceOptionMap:Object(s.c)(U),surfaceConfigurationMode:Object(s.c)(P),materialNameSegmentMap:Object(s.c)(H)};return Object(i.jsx)("div",{id:"modal",children:Object(i.jsxs)("div",{className:"modal__content",children:[Object(i.jsx)("span",{class:"close",onClick:function(){return t(W())},children:"\xd7"}),Object(i.jsx)("div",{className:"modal__header",children:Object(i.jsx)("h1",{children:"Add This To Your Page"})}),Object(i.jsx)("textarea",{id:"js-output",value:nt(e)})]})})},at=function(){var t=Object(s.b)(),e=Object(s.c)(P);return Object(i.jsx)("div",{id:"control-choice-modal",children:Object(i.jsxs)("div",{className:"control-choice-content",children:[Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("animation")),t(Y())},children:"Animation"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("color")),t(Y())},children:"Color"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("geometryCategory")),t(Y())},children:"Geometry Category"}),Object(i.jsx)("div",{className:"control-choice",style:{visibility:e?"hidden":"visible"},onClick:function(){!1===e&&(t(Y()),t(y()),t(S(!0)))},children:"Texture Configuration"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("toggle")),t(Y())},children:"Toggle"})]})})},ot=n(4),rt=function(t){var e=Object(s.b)(),n=t.option,a=Object(s.c)(_).map((function(t){return Object(i.jsx)("option",{value:t[0],children:t[1]})}));return a.unshift(Object(i.jsx)("option",{value:"none",children:"Select an Animation"})),Object(i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Animation:"}),Object(i.jsx)("select",{name:"animationSelect",value:n.configuration.animationUID,onChange:function(t){console.log("\n\n\ne.target:"),console.log(t.target),console.log("\n\n\n");var i=Object(ot.a)(Object(ot.a)({},n.configuration),{},{animationUID:t.target.value,animationName:t.target.options[t.target.selectedIndex].textContent});e(b({id:n.id,key:"configuration",value:i}))},children:a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"start",children:"Start Time:"}),Object(i.jsx)("input",{type:"number",name:"start",value:n.configuration.startTime,onChange:function(t){var i=Object(ot.a)(Object(ot.a)({},n.configuration),{},{startTime:t.target.value});e(b({id:n.id,key:"configuration",value:i}))}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"end",children:"End Time:"}),Object(i.jsx)("input",{type:"number",name:"end",value:n.configuration.endTime,onChange:function(t){var i=Object(ot.a)(Object(ot.a)({},n.configuration),{},{endTime:t.target.value});e(b({id:n.id,key:"configuration",value:i}))}})]})]})},lt=n(16),st=n.n(lt),ct=function(t,e,n){return null==e||void 0==e?Object(i.jsx)("div",{}):e.map((function(a,o,r){return Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsx)("label",{htmlFor:"defaultColor",children:"Alternate Color:"}),Object(i.jsx)("input",{type:"color",name:"additionalColor",id:"".concat(t,"-").concat(o,"-additionalColor"),value:e[o].color,onChange:function(e){for(var i=[],a=0;a<r.length;++a){var l={};a===o?(l.color=e.target.value,l.colorRGB=st()(e.target.value,{format:"array"}).map((function(t){return t/255})),l.name=r[a].name):(l.color=r[a].color,l.colorRGB=r[a].colorRGB,l.name=r[a].name),i[a]=l}n(b({id:t,key:"additionalColors",value:i}))}}),Object(i.jsx)("input",{type:"text",value:e[o].name,onChange:function(e){for(var i=[],a=0;a<r.length;++a){var l={};a===o?(l.color=r[a].color,l.colorRGB=r[a].colorRGB,l.name=e.target.value):(l.color=r[a].color,l.colorRGB=r[a].colorRGB,l.name=r[a].name),i[a]=l}n(b({id:t,key:"additionalColors",value:i}))}})]})}))},dt=function(t,e,n){var a=e.map((function(t,e){return Object(i.jsx)("option",{value:e,children:t.name})}));return a.unshift(Object(i.jsx)("option",{value:"none",children:"Select a Material"})),Object(i.jsx)("select",{name:"materials",id:"materials",onChange:function(i){n(b({id:t.id,key:"entityIndex",value:i.target.value})),n(b({id:t.id,key:"entity",value:e[i.target.value]}))},value:t.entityIndex,children:a})},ut=function(t){var e=Object(s.b)(),n=t.option,a=Object(s.c)(T);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsx)("label",{htmlFor:"materials",children:"Material:"}),dt(n,a,e)]}),Object(i.jsx)("div",{className:"additional-color__container",id:"".concat(n.id,"-additionalColors"),children:ct(n.id,n.additionalColors,e)}),Object(i.jsx)("div",{className:"input__container",children:Object(i.jsx)("button",{id:"addColor",className:"add__button",onClick:function(){if(void 0===n.additionalColors||null===n.additionalColors){var t={id:n.id,key:"additionalColors",value:[{color:"#ffffff",name:"white",colorRGB:[1,1,1]}]};e(b(t))}else{for(var i=[],a=0;a<n.additionalColors.length;++a)i[a]=n.additionalColors[a];i.push({color:"#ffffff",name:"default",colorRGB:[1,1,1]}),e(b({id:n.id,key:"additionalColors",value:i}))}},children:"+ Add Color"})})]})},mt=n(5),pt=function(t){var e=Object(s.b)(),n=t.option,a=Object(s.c)(z),o=n.configuration.geometries,r=Object(s.c)(L),l=function(t,a){for(var o=[],l=function(l){"geometryCategory"===r[l].type&&r[l].id!==n.id&&(c=r[l].configuration.geometries.map((function(o,s){var c=!1;if(void 0===n.configuration.geometries[a].hiddenValues){var d=JSON.parse(JSON.stringify(n.configuration));d.geometries[a].hiddenValues=[],e(b({id:n.id,key:"configuration",value:d}))}return n.configuration.geometries[a].hiddenValues.includes(o.designation)&&(c=!0),Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("input",{type:"checkbox",checked:c,onChange:function(){var i=JSON.parse(JSON.stringify(n.configuration)),d=JSON.parse(JSON.stringify(r[l].configuration));console.log("controls[i]:"),console.log(r[l]),console.log(d),c?(i.geometries[a].hiddenValues=i.geometries[a].hiddenValues.filter((function(t){return t!==o.designation})),d.geometries[s].hiddenValues=d.geometries[s].hiddenValues.filter((function(e){return e!==t}))):(i.geometries[a].hiddenValues.push(o.designation),d.geometries[s].hiddenValues.push(t)),console.log("\n\n\nnewComplimentConfiguration:"),console.log(d),console.log("\n\n\n"),e(b({id:n.id,key:"configuration",value:i})),e(b({id:r[l].id,key:"configuration",value:d}))}}),Object(i.jsx)("div",{children:o.designation})]})})),o.push(Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{marginLeft:4,color:"blue"},children:r[l].name}),c]})))},s=0;s<r.length;++s){var c;l(s)}return Object(i.jsxs)("div",{style:{textAlign:"left",marginLeft:16},children:[Object(i.jsx)("div",{style:{marginLeft:4},children:"Disable when selected:"}),o]})},c=function(t){var i=JSON.parse(JSON.stringify(n.configuration));i.geometries=t,e(b({id:n.id,key:"configuration",value:i}))};return Object(i.jsxs)("div",{className:"grouping__container",children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("p",{className:"nameFieldTitle",children:"Initial :"}),Object(i.jsx)("select",{onChange:function(t){return e(b({id:n.id,key:"initialValue",value:t.target.value}))},children:o.map((function(t,a){var o=!1;return""===n.initialValue&&0===a?(o=!0,e(b({id:n.id,key:"initialValue",value:t.designation}))):o=t.designation===n.initialValue,Object(i.jsx)("option",{selected:o,value:t.designation,children:t.designation})}))})]}),Object(i.jsxs)("div",{className:"additional-color__container",id:"".concat(n.id,"-additionalColors"),children:[Object(i.jsxs)("div",{style:{display:"flex",color:"blue",fontWeight:"bold"},children:["Selected Geometries: ",n.configuration.geometries.length]}),Object(i.jsx)("div",{style:{borderBottom:"1px solid black"},children:Object(i.jsx)(mt.ReactSortable,{list:o,setList:function(t){return c(t)},children:o.map((function(t,r){return Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("div",{style:{display:"flex",flex:"1 1 auto",fontWeight:"bold"},children:Object(i.jsx)("div",{children:t.designation})}),Object(i.jsx)("div",{children:"Animation:"}),Object(i.jsx)("input",{type:"checkbox",checked:t.allowsAnimation,onChange:function(){var e=JSON.parse(JSON.stringify(o));e[r].allowsAnimation=!t.allowsAnimation,c(e)}})]}),Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("div",{children:"Name:"}),Object(i.jsx)("input",{type:"text",placeholder:"Enter human readable name",value:t.humanReadable,onChange:function(t){var e=JSON.parse(JSON.stringify(o));e[r].humanReadable=t.target.value,c(e)}})]}),l(t.designation,r)]},"element-".concat(n.id,"-").concat(r)),Object(i.jsx)("div",{style:{display:"flex",flex:"1 1 auto"},children:Object(i.jsx)("button",{title:"Remove option",onClick:function(){var t=JSON.parse(JSON.stringify(a)),i=JSON.parse(JSON.stringify(n.configuration)),o=i.geometries.splice(r,1)[0];t.unshift(o),e(b({id:n.id,key:"configuration",value:i})),e(N(t))},children:Object(i.jsx)("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"},children:Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"m15.9 30.7v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 \r 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.7 0v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 \r 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.8 \r 0v-15.7q0-0.3-0.2-0.5t-0.6-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 \r 0.2h1.4q0.4 0 0.6-0.2t0.2-0.5z m-12.2-22.1h10l-1.1-2.6q-0.1-0.2-0.3-0.3h-7.1q-0.2 \r 0.1-0.4 0.3z m20.7 0.7v1.4q0 0.3-0.2 0.5t-0.5 0.2h-2.1v21.2q0 1.8-1.1 3.2t-2.5 \r 1.3h-18.6q-1.4 0-2.5-1.3t-1-3.1v-21.3h-2.2q-0.3 0-0.5-0.2t-0.2-0.5v-1.4q0-0.3 \r 0.2-0.5t0.5-0.2h6.9l1.6-3.8q0.3-0.8 1.2-1.4t1.7-0.5h7.2q0.9 0 1.8 0.5t1.2 1.4l1.5 \r 3.8h6.9q0.3 0 0.5 0.2t0.2 0.5z"})})})})})]})}))})}),Object(i.jsx)("div",{style:{display:"flex",color:"blue",fontWeight:"bold"},children:"Select A Geometry:"}),a.map((function(t,o){return Object(i.jsx)("div",{className:"geometry-option",style:{display:"flex"},onClick:function(){var t=JSON.parse(JSON.stringify(a)),i=t.splice(o,1)[0],r=JSON.parse(JSON.stringify(n.configuration));r.geometries.push(i),e(b({id:n.id,key:"configuration",value:r})),e(N(t))},children:Object(i.jsx)("div",{children:t.designation})},"element-".concat(n.id,"-").concat(o))}))]})]})},gt=function(t){var e=t.option,n=Object(s.b)();return Object(i.jsxs)("div",{className:"grouping__container",children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("p",{className:"nameFieldTitle",children:"Initial :"}),Object(i.jsx)("select",{onChange:function(t){return n(b({id:e.id,key:"initialValue",value:t.target.value}))},children:e.configuration.options.map((function(t,a){var o=!1;return""!==e.initialValue&&void 0!==e.initialValue||0!==a?o=t.name===e.initialValue:(o=!0,n(b({id:e.id,key:"initialValue",value:t.name}))),Object(i.jsx)("option",{selected:o,value:t.name,children:t.name})}))})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Code Name Map:"}),Object(i.jsx)(mt.ReactSortable,{list:e.configuration.options,setList:function(t){return function(t){var i=JSON.parse(JSON.stringify(e.configuration));i.options=t,n(b({id:e.id,key:"configuration",value:i}))}(t)},children:e.configuration.options.map((function(t,a){return Object(i.jsxs)("div",{children:[t.name,Object(i.jsx)("input",{value:t.humanReadable,onChange:function(t){var i=JSON.parse(JSON.stringify(e.configuration));i.options[a].humanReadable=t.target.value,n(b({id:e.id,key:"configuration",value:i}))}})]})}))})]})]})},ft=function(t){for(var e="",n=0;n<t;++n)e+="--";return e},ht=function(t){var e=Object(s.b)(),n=t.option,a=Object(s.c)(q).map((function(t){return Object(i.jsxs)("option",{value:t.instanceID,children:[ft(t.depth),t.name]})}));return a.unshift(Object(i.jsx)("option",{value:0,children:"Select a Node"})),Object(i.jsx)("select",{name:"nodes",id:"nodes",className:"material__select",value:n.entity.instanceID,onChange:function(t){return e(b({id:n.id,key:"entity",value:{instanceID:t.target.value}}))},children:a})},bt=function(){var t=Object(s.c)(L),e=Object(s.c)(G),n=Object(s.b)(),a=function(t){return"animation"===t.type?Object(i.jsx)(rt,{option:t}):"color"===t.type?Object(i.jsx)(ut,{option:t}):"geometryCategory"===t.type?Object(i.jsx)(pt,{option:t}):"textureCategory"===t.type?Object(i.jsx)(gt,{option:t}):"toggle"===t.type?Object(i.jsx)(ht,{option:t}):void 0};return Object(i.jsxs)("div",{style:{overflow:"auto",display:"flex",flexDirection:"column"},children:[Object(i.jsx)("button",{className:"add-option add__button",disabled:e,onClick:function(){return n(Y())},children:"+ Add Configurable Element"}),Object(i.jsx)("div",{className:"single-option__panels__container",children:Object(i.jsx)(mt.ReactSortable,{list:t,setList:function(t){return n(v(t))},children:function(t,e){return t.map((function(t,n,o){return Object(i.jsxs)("div",{className:"single-option__panel",children:[Object(i.jsxs)("div",{className:"single-option__header",children:[Object(i.jsxs)("h3",{className:"single-option__title",children:[t.id,". ",t.type]}),Object(i.jsx)("button",{id:"collapseButton".concat(t.id),className:"collapse__button",onClick:function(n){return e(b({id:t.id,key:"isExpanded",value:!t.isExpanded}))},children:t.isExpanded?"Collapse":"Expand"}),Object(i.jsx)("button",{title:"Remove option",onClick:function(){var n=o.filter((function(e){return e.id!==t.id}));e(v(n))},children:Object(i.jsx)("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"},children:Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"m15.9 30.7v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 \r 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.7 0v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 \r 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.8 \r 0v-15.7q0-0.3-0.2-0.5t-0.6-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 \r 0.2h1.4q0.4 0 0.6-0.2t0.2-0.5z m-12.2-22.1h10l-1.1-2.6q-0.1-0.2-0.3-0.3h-7.1q-0.2 \r 0.1-0.4 0.3z m20.7 0.7v1.4q0 0.3-0.2 0.5t-0.5 0.2h-2.1v21.2q0 1.8-1.1 3.2t-2.5 \r 1.3h-18.6q-1.4 0-2.5-1.3t-1-3.1v-21.3h-2.2q-0.3 0-0.5-0.2t-0.2-0.5v-1.4q0-0.3 \r 0.2-0.5t0.5-0.2h6.9l1.6-3.8q0.3-0.8 1.2-1.4t1.7-0.5h7.2q0.9 0 1.8 0.5t1.2 1.4l1.5 \r 3.8h6.9q0.3 0 0.5 0.2t0.2 0.5z"})})})})]}),Object(i.jsxs)("div",{style:{display:t.isExpanded?"block":"none"},children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("p",{className:"nameFieldTitle",children:"Name:"}),Object(i.jsx)("input",{type:"text",name:"colorName",id:"colorName",value:t.name,onChange:function(n){return e(b({id:t.id,key:"name",value:n.target.value}))}})]}),a(t)]})]},"option-".concat(n))}))}(t,n)})})]})},vt=function(t){for(var e="",n=0;n<t;++n)e+=n+1+"_";return e},jt=function(){var t=Object(s.b)(),e=Object(s.c)(q),n=Object(s.c)(V),a=Object(s.c)(R),o=e.map((function(e){return Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("input",{id:e.instanceID,type:"checkbox",checked:a[e.instanceID],onChange:function(e){e.target.checked?(n.show(e.target.id),t(x({id:e.target.id,value:!0}))):(n.hide(e.target.id),t(x({id:e.target.id,value:!1})))}}),Object(i.jsxs)("div",{className:"node-name",children:[vt(e.depth),e.name]})]})}));return o.unshift(Object(i.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid black"},children:[Object(i.jsx)("input",{type:"checkbox",checked:Object.values(a).reduce((function(t,e){return t&&e})),onChange:function(e){t(B(e.target.checked))}}),Object(i.jsx)("div",{className:"node-name",children:"All Nodes"})]})),Object(i.jsxs)("div",{style:{overflow:"auto"},children:[Object(i.jsx)("div",{id:"nodeControls",children:o}),Object(i.jsx)("div",{id:"animationControls"})]})},yt=function(){var t=Object(s.b)(),e=Object(s.c)(J),n=Object(s.c)(G),a={backgroundColor:"nodes"===e?"white":"gray"},o={backgroundColor:"options"===e?"white":"gray"};return Object(i.jsxs)("div",{className:"control-menu",children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("button",{className:"control-menu__button",style:a,disabled:n,onClick:function(){return t(C("nodes"))},children:"Nodes"}),Object(i.jsx)("button",{className:"control-menu__button",style:o,onClick:function(){return t(C("options"))},children:"Options"})]}),function(t){return"options"===t?Object(i.jsx)(bt,{}):"nodes"===t?Object(i.jsx)(jt,{}):void 0}(e)]})};n(32),n(33);var Ot=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(X,{}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)(tt,{}),Object(i.jsx)(yt,{}),Object(i.jsx)(et,{}),Object(i.jsx)(it,{}),Object(i.jsx)(at,{})]})]})},xt=n(17),Ct=n.n(xt),Nt=Object(c.a)({reducer:Z,middleware:function(t){return t().concat(Ct.a)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(s.a,{store:Nt,children:Object(i.jsx)(Ot,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},6:function(t,e){t.exports={buildSceneGraph:function t(e,n,i){for(var a=0;a<n.length;++a)"Group"!=n[a].type&&"RootNode"!=n[a].name&&(void 0==n[a].name?e.sceneGraph.push({name:n[a].type,depth:i,instanceID:n[a].instanceID,materialID:n[a].materialID}):e.sceneGraph.push({name:n[a].name,depth:i,instanceID:n[a].instanceID,materialID:n[a].materialID}),e.sceneGraphIsVisible[n[a].instanceID]=!0),void 0==n[a].children&&null==n[a].children||t(e,n[a].children,i+1)},buildGeometryCategoryOptions:function(t){for(var e=[],n=[],i=0;i<t.sceneGraph.length;++i){for(var a=t.sceneGraph[i].name.split("-").filter((function(t){return""!=t})),o=a[0],r=a[1],l=a[2],s=3;s<a.length;++s)l+=a[s];-1==e.indexOf(o)&&-1==["Group","RootNode","MatrixTransform"].indexOf(o)&&(e.push(o),n.push({instanceID:t.sceneGraph[i].instanceID,designation:o,capitalLetter:r,detailedTitle:l,humanReadable:o,hiddenValues:[],allowsAnimation:!0}))}n.sort((function(t,e){return t.designation.charCodeAt(0)-e.designation.charCodeAt(0)})),t.groupingOptions=n},buildTextureOptions:function(t){for(var e={},n={},i={},a=[],o=0;o<t.length;++o){if(null!==t[o].name.match(/[a-zA-Z]*-[A-Z]+-[a-zA-Z]+/g)){for(var r=t[o].name.split("-").filter((function(t){return""!=t}))[0],l=t[o].name.match(/[A-Z]+-/g).map((function(t){return t.replace("-","")})),s=l[0],c=0;c<l.length;++c)n[l[c]]=l[c];if(void 0===e[r]){e[r]={},a.push({name:r+" - Attribute 1",configuration:{isPrimary:!0,ordering:0,geometryName:r,options:[{name:l[0],humanReadable:l[0]}]},entity:{instanceID:0},entityIndex:"none",isExpanded:!0,type:"textureCategory"}),i[r]=["Attribute Name"],e[r][l[0]]=[];for(var d=1;d<l.length;++d)i[r].push("Attribute Name"),a.push({name:"".concat(r," - Attribute ").concat(d+1),configuration:{isPrimary:!1,ordering:d,geometryName:r,options:[{name:l[d],humanReadable:l[d]}]},entity:{instanceID:0},entityIndex:"none",isExpanded:!0,type:"textureCategory",initialValue:""}),e[r][s].push([l[d]])}else{for(var u=0;u<a.length;++u)if(a[u].configuration.geometryName===r){for(var m=!1,p=0;p<a[u].configuration.options.length;++p)if(a[u].configuration.options[p].name===l[0]){m=!0;break}!1===m&&a[u].configuration.options.push({name:l[0],humanReadable:l[0]});for(p=1;p<l.length;++p){m=!1;for(var g=0;g<a[u+p].configuration.options.length;++g)if(a[u+p].configuration.options[g].name===l[p]){m=!0;break}!1===m&&a[u+p].configuration.options.push({name:l[p],humanReadable:l[p]})}break}if(void 0===e[r][s]){e[r][s]=[];for(var f=1;f<l.length;++f)e[r][s].push([l[f]])}else for(var h=1;h<l.length;++h){var b=e[r][s][h-1];-1===b.indexOf(l[h])&&b.push(l[h])}}}}return{surfaceOptionMap:e,materialNameSegmentMap:n,surfaceAttributeNameMap:i,surfaceControls:a}}}}},[[34,1,2]]]);
//# sourceMappingURL=main.db258d02.chunk.js.map