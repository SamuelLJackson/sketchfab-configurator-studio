(this["webpackJsonpsketchfab-configurator-studio"]=this["webpackJsonpsketchfab-configurator-studio"]||[]).push([[0],{18:function(t,n,e){},25:function(t,n,e){},26:function(t,n){window.onclick=function(t){var n=document.getElementById("modal");t.target==n&&(n.style.display="none")}},27:function(t,n,e){"use strict";e.r(n);var i=e(0),o=e(1),a=e.n(o),r=e(5),l=e.n(r),s=(e(18),e(2)),c=e(4),d=e(11),u=e.n(d),m={modelId:"",materials:[],animations:[],sceneGraph:[],controls:[],disableButtons:!0,latestControlId:0,sketchfabAPI:null,sceneGraphIsVisible:{},viewMode:"options",groupingOptions:[]},g=Object(c.b)({name:"viewer",initialState:m,reducers:{resetState:function(t){m},setSketchfabAPI:function(t,n){t.sketchfabAPI=n.payload},setModelId:function(t,n){t.modelId=n.payload},setMaterials:function(t,n){t.materials=n.payload},setAnimations:function(t,n){t.animations=n.payload},setSceneGraph:function(t,n){_(t,n.payload.children,0)},setSceneGraphIsVisible:function(t,n){var e=n.payload,i=e.id,o=e.value;t.sceneGraphIsVisible[i]=o},createControl:function(t,n){t.latestControlId=t.latestControlId+=1;var e=t.latestControlId;t.controls.unshift({type:n.payload,id:e,name:n.payload,entityIndex:"none",entity:{instanceID:0},animationUID:"none",groupMembers:[],isExpanded:!0})},setViewMode:function(t,n){t.viewMode=n.payload},setControls:function(t,n){t.controls=n.payload},toggleDisableButtons:function(t){t.disableButtons=!1},updateControl:function(t,n){var e=n.payload,i=e.id,o=e.key,a=e.value;console.log(n.payload);for(var r=0;r<t.controls.length;++r)t.controls[r].id==i&&(t.controls[r][o]=a)},setGroupingOptions:function(t,n){t.groupingOptions=n.payload},setAllNodesVisible:function(t,n){for(var e=0;e<Object.keys(t.sceneGraphIsVisible).length;++e)n.payload?t.sketchfabAPI.show(Object.keys(t.sceneGraphIsVisible)[e]):t.sketchfabAPI.hide(Object.keys(t.sceneGraphIsVisible)[e]),t.sceneGraphIsVisible[Object.keys(t.sceneGraphIsVisible)[e]]=n.payload}}}),p=g.actions,v=(p.resetState,p.setModelId),h=p.createControl,f=(p.toggleDisableButtons,p.updateControl),b=p.setControls,j=p.setSceneGraphIsVisible,x=p.setViewMode,y=p.setGroupingOptions,O=p.setAllNodesVisible,C=function(t){return t.viewer.modelId},k=function(t){return t.viewer.materials},B=function(t){return t.viewer.animations},I=function(t){return t.viewer.controls},A=function(t){return t.viewer.disableButtons},S=function(t){return t.viewer.sceneGraph},w=function(t){return t.viewer.sketchfabAPI},T=function(t){return t.viewer.sceneGraphIsVisible},E=function(t){return t.viewer.viewMode},N=function(t){return t.viewer.groupingOptions},G=function(){return function(t){var n=document.getElementById("modal"),e=n.style.display;n.style.display="block"===e?"none":"block"}},D=function(){return function(t){var n=document.getElementById("control-choice-modal"),e=n.style.display;n.style.display="block"===e?"none":"block"}},_=function t(n,e,i){for(var o=0;o<e.length;++o)"Group"!=e[o].type&&"RootNode"!=e[o].name&&(void 0==e[o].name?n.sceneGraph.push({name:e[o].type,depth:i,instanceID:e[o].instanceID}):n.sceneGraph.push({name:e[o].name,depth:i,instanceID:e[o].instanceID})),n.sceneGraphIsVisible[e[o].instanceID]=!0,void 0==e[o].children&&null==e[o].children||t(n,e[o].children,i+1)},M=g.reducer,q=function(){var t=Object(s.c)(C),n=Object(s.c)(A),e=Object(s.b)();return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("h1",{className:"header__title",children:"Configurator Studio"}),Object(i.jsxs)("div",{className:"header__buttons",children:[Object(i.jsx)("input",{id:"model-id-input",value:t,onChange:function(t){return e(v(t.target.value))}}),Object(i.jsx)("button",{id:"displayButton",className:"header__button",onClick:function(){return e(function(t){return function(n){n(g.actions.setControls([]));var e,i,o,a,r,l,s=document.getElementById("api-frame"),c=[];a=function(){o.getCurrentTime((function(t,n){if(!e){var i=100*n/r;l.value=i,document.getElementById("timeDisplay").innerHTML=n.toFixed(2),2==n&&o.seekTo(1)}requestAnimationFrame(a)}))},{api:null,config:null,options:[],init:function(t,s){this.config=t,new u.a("1.8.2",s).init(t.urlid,{ui_infos:0,ui_controls:0,graph_optimizer:0,success:function(t){document.getElementById("animationControls").innerHTML='\n                      <div style="display: flex; justify-content: center;">\n                        <p id="timeDisplay"></p>\n                        <p id="animationName" style="margin-left: 50px;"></p>\n                      </div>\n                      <button id="play">Play</button>\n                      <button id="pause">Pause</button>\n                      <button id="previous">Previous</button>\n                      <button id="next">Next</button>\n                      <input \n                        id="timeSlider" \n                        class="slider timeSlider" \n                        style="width:100%" \n                        type="range" \n                        min="0" \n                        max="100" \n                        step="0.1" \n                        value="0"\n                      />\n                  ',o=t,n(g.actions.setSketchfabAPI(t)),t.start(),t.addEventListener("viewerready",function(){this.api=t,t.pause(),t.getAnimations((function(o,s){console.log(s),c=s,n(g.actions.setAnimations(s)),0==s.length?document.getElementById("animationControls").innerHTML="":(document.getElementById("pause").addEventListener("click",(function(){t.pause()})),document.getElementById("play").addEventListener("click",(function(){t.play()})),document.getElementById("previous").addEventListener("click",(function(){0===i&&(i=c.length),i--,t.setCurrentAnimationByUID(c[i][0]),t.seekTo(0),r=c[i][2],document.getElementById("animationName").innerHTML=c[i][1],console.log(r)})),document.getElementById("next").addEventListener("click",(function(){++i===c.length&&(i=0),t.setCurrentAnimationByUID(c[i][0]),t.seekTo(0),r=c[i][2],document.getElementById("animationName").innerHTML=c[i][1],console.log(r)})),document.getElementById("animationName").innerHTML=c[0][1],i=0,t.setCurrentAnimationByUID(s[i][0]),r=s[i][2],e=!1,l=document.getElementById("timeSlider"),a(),l.addEventListener("change",(function(){e=!1;var t=r*l.value/100;document.getElementById("timeDisplay").innerHTML=t.toFixed(2)})),l.addEventListener("input",(function(){e=!0;var n=r*l.value/100;document.getElementById("timeDisplay").innerHTML=n.toFixed(2),t.pause(),t.seekTo(n)})))})),n(g.actions.toggleDisableButtons()),t.getSceneGraph((function(t,e){t?console.log("Error getting nodes"):n(g.actions.setSceneGraph(e))})),t.getMaterialList((function(t,e){n(g.actions.setMaterials(e));for(var i=0;i<e.length;i++){var o=e[i];console.log(o.name,o)}}))}.bind(this))}.bind(this),error:function(){console.log("Viewer error")}})}}.init({urlid:""!==t?t:"f373c5bab8e7489fa12db2071471fe4e",prefix:"seat "},s)}}(t))},children:"Load Model"}),Object(i.jsx)("button",{id:"export-javascript",className:"header__button",disabled:n,onClick:function(){return e(G())},children:"Export"})]})]})},L=function(){return Object(i.jsxs)("div",{class:"viewer",children:[Object(i.jsx)("iframe",{src:"",id:"api-frame",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true"}),Object(i.jsx)("div",{id:"animationControls"})]})},P=function(){var t=Object(s.b)(),n=Object(s.c)(I),e=Object(s.c)(C),o=Object(s.c)(S),a=Object(s.c)(N);return Object(i.jsx)("div",{id:"modal",children:Object(i.jsxs)("div",{className:"modal__content",children:[Object(i.jsx)("span",{class:"close",onClick:function(){return t(G())},children:"\xd7"}),Object(i.jsx)("div",{className:"modal__header",children:Object(i.jsx)("h1",{children:"Add This To Your Page"})}),Object(i.jsx)("textarea",{id:"js-output",value:R(n,e,o,a)})]})})},R=function(t,n,e,i){return"\n// Sketchfab Viewer API: Change Texture/material\nvar version = '1.8.2';\nvar uid = '".concat(n,"';\nvar iframe = document.getElementById('api-frame');\nvar client = new window.Sketchfab(version, iframe);\n\nvar myMaterials;\n\nvar error = function() {\n\tconsole.error('Sketchfab API error');\n};\n\nvar controls = ").concat(JSON.stringify(t),"\n\nvar sceneGraph = ").concat(JSON.stringify(e),"\n\nvar groupingOptions = ").concat(JSON.stringify(i),'\n\nvar animationObjects = {};\n\nvar controlsContainer = document.getElementById(\'controls\');\nvar toggleableItems = {};\nvar toggleableGroups = {};\n\nvar nameArrays = [];\nvar currentAnimation = "";\nvar currentAnimationEndTime = 0;\nvar groupingMode = false;\nvar firstGroupingControlIndex = -1;\n\nvar getName = function(children, depth) {\n\tfor (let i=0; i<children.length; ++i) {\n\t\tif(children[i].name == undefined) {\n\t\t\tnameArrays.push({name: children[i].type, depth: depth, instanceID: children[i].instanceID});\n\t\t} else {\n\t\t\tnameArrays.push({name: children[i].name, depth: depth, instanceID: children[i].instanceID});\n\t\t}\n\t\tif (children[i].children != undefined || children[i].children != null) {\t\t\t\n\t\t\tgetName(children[i].children, depth+1);\n\t\t}\n\t}\n}\n\nvar apiSkfb, pollTime;\n\n\npollTime = function() {\n        apiSkfb.getCurrentTime(function(err, time) {\n\t\t\t\n\t\t\tif (currentAnimationEndTime > 0 && time >= currentAnimationEndTime) {\n\t\t\t\tapiSkfb.pause();\n\t\t\t}\n            requestAnimationFrame(pollTime);\n        });\n  };\n\nvar success = function(api) {\n    apiSkfb = api;\n\tapi.start(function() {\n\t\tapi.addEventListener(\'viewerready\', function() {\n\t\t\tpollTime();\n\t\t\tapi.pause();\n            api.getSceneGraph(function(err, result) {\n                if (err) {\n                    console.log(\'Error getting nodes\');\n                    return;\n                }\n\t\t\t\tvar sceneElements = [];\n\t\t\t\tgetName(result.children, 0);\n            });\n\t\t\t\n\t\t\tapi.getMaterialList(function(err, materials) {\n\t\t\t\tmyMaterials = materials;\n\t\t\t});\n\t\t\t\n\t\t\tvar animations = [];\n\t\t\tfor (let i = 0; i < controls.length; ++i) {\t\n\t\t\t\tif (controls[i].type == "animation") {\n\t\t\t\t\tanimations.push(controls[i]);\n\t\t\t\t\tanimationObjects[controls[i].id] = {name: controls[i].name, startTime: Number(controls[i].startTime), endTime: Number(controls[i].endTime), uid: controls[i].animationUID}; \n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\tvar controlTitle = document.createElement("h3");\n\t\t\t\tcontrolTitle.innerHTML = controls[i].name;  \n\t\t\t\tsingleControlContainer.classList.add("single-control-container");\t\t\t\t\t\n\t\t\t\t\n\t\t\t\tsingleControlContainer.appendChild(controlTitle);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tif (controls[i].type == "color") {\n\t\t\t\t\tvar resetBut = document.createElement("button");\n\t\t\t\t\tresetBut.innerHTML = "Reset";\n\t\t\t\t\tresetBut.onclick = function(e) {\t\n\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\tm = JSON.parse(JSON.stringify(controls[i].entity));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(resetBut);\n\t\t\t\t\t\n\t\t\t\t\tfor (let j = 0; j < controls[i].additionalColors.length; ++j) {\n\t\t\t\t\t\tvar colorBut = document.createElement("button");\n\n\t\t\t\t\t\tcolorBut.innerHTML = controls[i].additionalColors[j].name;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcolorBut.id = controls[i].id + "-" + controls[i].name\n\t\t\t\t\t\tcolorBut.onclick = function(e) {\t\n\t\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.factor = 1;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.enable = true;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffuseColor.factor = 1;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.enable = true;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffusePBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.enable = false;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.factor = 1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsingleControlContainer.appendChild(colorBut);\n\t\t\t\t\t}\t\n\t\t\t\t} else if (controls[i].type == "toggle") {\n\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\tvar toggleBut = document.createElement("button");\n\t\t\t\t\ttoggleBut.innerHTML = "Toggle " + controls[i].name;\n\t\t\t\t\ttoggleBut.id = controls[i].entity.instanceID;\n\t\t\t\t\ttoggleBut.onclick = function(e) {\n\t\t\t\t\t\tvar isVisible = toggleableItems[e.target.id];\n\t\t\t\t\t\tif (isVisible == "visible") {\n\t\t\t\t\t\t\tapi.hide(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "hidden";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapi.show(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(toggleBut);\n\t\t\t\t} else if (controls[i].type == "grouping") {\t\t\t\n\t\t\t\t\tgroupingMode = true;\n\t\t\t\t\tif (firstGroupingControlIndex == -1) {\n\t\t\t\t\t\tfirstGroupingControlIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tvar groupingsContainer = document.createElement("div");\n\t\t\t\t\tgroupingsContainer.style.display = "flex";\n\t\t\t\t\t\n\t\t\t\t\tfor (var j=0; j<controls[i].groupings.length; ++j) {\n\t\t\t\t\t\tvar groupingDiv = document.createElement("div");\n\t\t\t\t\t\tvar groupingTitle = document.createElement("label");\n\t\t\t\t\t\tgroupingTitle.style.marginRight = "10px";\n\t\t\t\t\t\tgroupingTitle.style.marginLeft = "10px";\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroupingTitle.innerHTML = controls[i].groupings[j].name + ":";\n\t\t\t\t\t\tvar groupingSelect = document.createElement("select");\n\t\t\t\t\t\tgroupingSelect.classList.add("grouping__select");\n\t\t\t\t\t\tgroupingSelect.id = i + "select" + j;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroupingSelect.addEventListener("change", function(e) {\n\t\t\t\t\t\t\tvar startButton = document.getElementById("startButton");\n\t\t\t\t\t\t\tvar pauseButton = document.getElementById("pauseButton");\n\t\t\t\t\t\t\tvar animationSelect = document.getElementById("animationSelect");\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar allGroupingSelects = document.getElementsByClassName("grouping__select");\n\t\t\t\t\t\t\tvar allDesignationsSet = true;\n\t\t\t\t\t\t\tvar selectedPrefixes = [];\n\t\t\t\t\t\t\tvar disableAnimation = false;\n\t\t\t\t\t\t\tfor (var k=0; k<allGroupingSelects.length; ++k) {\n\t\t\t\t\t\t\t\tif (allGroupingSelects[k].value == "none") {\n\t\t\t\t\t\t\t\t\tallDesignationsSet = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tselectedPrefixes.push(allGroupingSelects[k].value);\n\t\t\t\t\t\t\t\tvar indexes = allGroupingSelects[k].id.split("select")\n\t\t\t\t\t\t\t\tvar indexI = indexes[0];\n\t\t\t\t\t\t\t\tvar indexJ = indexes[1];\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(controls[indexI].groupings[indexJ].allowsAnimation.indexOf(allGroupingSelects[k].value) == -1) {\n\t\t\t\t\t\t\t\t\tdisableAnimation = true;\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstartButton.disabled = disableAnimation || animationSelect.value == "none";\n\t\t\t\t\t\t\tpauseButton.disabled = disableAnimation || animationSelect.value == "none";\n\t\t\t\t\t\t\tanimationSelect.disabled = disableAnimation;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (allDesignationsSet) {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar primaryLetterCode = "";\n\t\t\t\t\t\t\t\tfor (var k=0; k<groupingOptions.length; ++k) {\n\t\t\t\t\t\t\t\t\tif (groupingOptions[k].designation == allGroupingSelects[0].value) {\n\t\t\t\t\t\t\t\t\t\tprimaryLetterCode = groupingOptions[k].capitalLetter;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfor (var k=0; k<allGroupingSelects.length; ++k) {\n\t\t\t\t\t\t\t\t\tselectedPrefixes.push(allGroupingSelects[k].value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfor (var k=0; k<sceneGraph.length; ++k) {\n\t\t\t\t\t\t\t\t\tvar nodeNameArray = sceneGraph[k].name.split("-")\n\t\t\t\t\t\t\t\t\tvar mainDesignation = nodeNameArray[0];\n\t\t\t\t\t\t\t\t\tvar letterCode = nodeNameArray[1];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tapi.hide(sceneGraph[k].instanceID);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (selectedPrefixes.indexOf(mainDesignation) > -1 && \n\t\t\t\t\t\t\t\t\t\t\tletterCode.includes(primaryLetterCode)) {\n\t\t\t\t\t\t\t\t\t\tapi.show(sceneGraph[k].instanceID);\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var k=0; k<controls[i].groupings[j].designations.length; ++k) {\n\t\t\t\t\t\t\tvar designationOption = document.createElement("option");\n\t\t\t\t\t\t\tdesignationOption.value = controls[i].groupings[j].designations[k];\n\t\t\t\t\t\t\tdesignationOption.innerHTML = controls[i].groupings[j].designations[k];\n\t\t\t\t\t\t\tgroupingSelect.appendChild(designationOption);\n\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroupingDiv.appendChild(groupingTitle);\n\t\t\t\t\t\tgroupingDiv.appendChild(groupingSelect);\n\t\t\t\t\t\tgroupingsContainer.appendChild(groupingDiv);\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(groupingsContainer);\n\t\t\t\t}\n\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t}\n\t\t\t\n\t\t\tif (animations.length > 0) {\n\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\tvar controlTitle = document.createElement("h3");\n\t\t\t\tcontrolTitle.innerHTML = "Animations";  \n\t\t\t\tsingleControlContainer.classList.add("single-control-container");\t\t\t\t\t\n\t\t\t\t\n\t\t\t\tsingleControlContainer.appendChild(controlTitle);\n\t\t\t\t\n\t\t\t\tvar startBut = document.createElement("button");\n\t\t\t\tstartBut.id = "startButton";\n\t\t\t\tstartBut.innerHTML = "Start";\n\t\t\t\tstartBut.disabled = true;\n\t\t\t\tstartBut.onclick = function() {\n\t\t\t\t    var startTime = animationObjects[currentAnimation].startTime;\n\t\t\t\t\tapi.seekTo(startTime);\n\t\t\t\t\tapi.play();\n\t\t\t\t}\n\t\t\t\tvar pauseBut = document.createElement("button");\n\t\t\t\tpauseBut.id = "pauseButton";\n\t\t\t\tpauseBut.innerHTML = "Pause";\n\t\t\t\tpauseBut.disabled = true;\n\t\t\t\tpauseBut.onclick = function() {    \n\t\t\t\t\tapi.pause();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsingleControlContainer.appendChild(startBut);\n\t\t\t\tsingleControlContainer.appendChild(pauseBut);\n\t\t\t\t\n\t\t\t\tvar animationSelect = document.createElement("select");\n\t\t\t\tanimationSelect.id = "animationSelect";\n\t\t\t\t\n\t\t\t\tvar tempOption = document.createElement("option");\n\t\t\t\ttempOption.value = "none";\n\t\t\t\ttempOption.innerHTML = "Select An Animation";\n\t\t\t\t\n\t\t\t\tanimationSelect.appendChild(tempOption);\n\t\t\t\tfor (let i=0; i<animations.length; ++i) {\n\t\t\t\t\tif (i==0) {\n\t\t\t\t\t\tcurrentAnimation = animations[i].id;\n\t\t\t\t\t}\n\t\t\t\t\tvar tempOption = document.createElement("option");\n\t\t\t\t\ttempOption.value = animations[i].id;\n\t\t\t\t\ttempOption.innerHTML = animations[i].name;\n\t\t\t\t\t\n\t\t\t\t\tanimationSelect.appendChild(tempOption);\n\t\t\t\t}\t\t\t\t\n\t\t\t\t\n\t\t\t\tanimationSelect.addEventListener("change", function(e) {    \n\t\t\t\t\tif (e.target.value != "none") {\n\t\t\t\t\t\tstartBut.disabled = false;\n\t\t\t\t\t\tpauseBut.disabled = false;     \n\t\t\t\t\t\tvar animationUID = animationObjects[e.target.value].uid;\n\t\t\t\t\t\tapi.setCurrentAnimationByUID(animationUID);\n\t\t\t\t\t\tvar startTime = animationObjects[e.target.value].startTime;\n\t\t\t\t\t\tcurrentAnimation = e.target.value;\n\t\t\t\t\t\tapi.seekTo(startTime);\n\t\t\t\t\t\tvar endTime = animationObjects[currentAnimation].endTime;\n\t\t\t\t\t\tcurrentAnimationEndTime = endTime;\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\t\t\t\t\t\t\n\t\t\t\t\t\tstartBut.disabled = true;\n\t\t\t\t\t\tpauseBut.disabled = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsingleControlContainer.appendChild(animationSelect);\n\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t}\n\t\t\t\n\t\t\t//show/hide to OG specification\n\t\t\tif (groupingMode) {\n\t\t\t\tvar startButton = document.getElementById("startButton");\n\t\t\t\tvar pauseButton = document.getElementById("pauseButton");\n\t\t\t\tvar animationSelect = document.getElementById("animationSelect");\n\t\t\t\t\n\t\t\t\tvar allGroupingSelects = document.getElementsByClassName("grouping__select");\n\t\t\t\tvar allDesignationsSet = true;\n\t\t\t\tvar selectedPrefixes = [];\n\t\t\t\tvar disableAnimation = false;\t\t\n\t\t\t\tvar primaryLetterCode = "";\n\t\t\t\tfor (var k=0; k<groupingOptions.length; ++k) {\n\t\t\t\t\tif (groupingOptions[k].designation == allGroupingSelects[0].value) {\n\t\t\t\t\t\tprimaryLetterCode = groupingOptions[k].capitalLetter;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var k=0; k<allGroupingSelects.length; ++k) {\n\t\t\t\t\tif (allGroupingSelects[k].value == "none") {\n\t\t\t\t\t\tallDesignationsSet = false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedPrefixes.push(allGroupingSelects[k].value);\n\t\t\t\t\tvar indexes = allGroupingSelects[k].id.split("select")\n\t\t\t\t\tvar indexI = indexes[0];\n\t\t\t\t\tvar indexJ = indexes[1];\n\t\t\t\t\t\n\t\t\t\t\tif(controls[indexI].groupings[indexJ].allowsAnimation.indexOf(allGroupingSelects[k].value) == -1) {\n\t\t\t\t\t\tdisableAnimation = true;\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tstartButton.disabled = disableAnimation;\n\t\t\t\tpauseButton.disabled = disableAnimation;\n\t\t\t\tanimationSelect.disabled = disableAnimation;\n\t\t\t\t\n\t\t\t\tfor (var i=0; i<sceneGraph.length; ++i) {\n\t\t\t\t\tvar nodeNameArray = sceneGraph[i].name.split("-")\n\t\t\t\t\tvar mainDesignation = nodeNameArray[0];\n\t\t\t\t\tvar letterCode = nodeNameArray[1];\n\t\t\t\t\t\n\t\t\t\t\tapi.hide(sceneGraph[i].instanceID);\n\t\t\t\t\t\n\t\t\t\t\tif (selectedPrefixes.indexOf(mainDesignation) > -1 && \n\t\t\t\t\t\t\tletterCode.includes(primaryLetterCode)) {\n\t\t\t\t\t\tapi.show(sceneGraph[i].instanceID);\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\t\t\n\t\t\t}\t\t\t\n\t\t});\n\t});\n};\n\nclient.init(uid, {\n\tsuccess: success,\n\terror: error,\n\tautostart: 1,\n\tpreload: 1\n});\n  \n\n')},H=function(){var t=Object(s.b)();return Object(i.jsx)("div",{id:"control-choice-modal",children:Object(i.jsxs)("div",{className:"control-choice-content",children:[Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(h("color")),t(D())},children:"Color"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(h("toggle")),t(D())},children:"Toggle"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(h("grouping")),t(D())},children:"Grouping"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(h("animation")),t(D())},children:"Animation"})]})})},V=e(12),z=e.n(V),J=function(t){var n=Object(s.b)(),e=t.option,o=Object(s.c)(k);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsx)("label",{htmlFor:"materials",children:"Material:"}),U(e,o,n)]}),Object(i.jsx)("div",{className:"additional-color__container",id:"".concat(e.id,"-additionalColors"),children:F(e.id,e.additionalColors,n)}),Object(i.jsx)("div",{className:"input__container",children:Object(i.jsx)("button",{id:"addColor",className:"add__button",onClick:function(){if(void 0==e.additionalColors||null==e.additionalColors){var t={id:e.id,key:"additionalColors",value:[{color:"#ffffff",name:"white",colorRGB:[1,1,1]}]};n(f(t))}else{for(var i=[],o=0;o<e.additionalColors.length;++o)i[o]=e.additionalColors[o];i.push({color:"#ffffff",name:"default",colorRGB:[1,1,1]}),n(f({id:e.id,key:"additionalColors",value:i}))}},children:"+ Add Color"})})]})},F=function(t,n,e){return null==n||void 0==n?Object(i.jsx)("div",{}):n.map((function(o,a,r){return Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsx)("label",{htmlFor:"defaultColor",children:"Alternate Color:"}),Object(i.jsx)("input",{type:"color",name:"additionalColor",id:"".concat(t,"-").concat(a,"-additionalColor"),value:n[a].color,onChange:function(n){for(var i=[],o=0;o<r.length;++o){var l={};o===a?(l.color=n.target.value,l.colorRGB=z()(n.target.value,{format:"array"}).map((function(t){return t/255})),l.name=r[o].name):(l.color=r[o].color,l.colorRGB=r[o].colorRGB,l.name=r[o].name),i[o]=l}e(f({id:t,key:"additionalColors",value:i}))}}),Object(i.jsx)("input",{type:"text",value:n[a].name,onChange:function(n){for(var i=[],o=0;o<r.length;++o){var l={};o===a?(l.color=r[o].color,l.colorRGB=r[o].colorRGB,l.name=n.target.value):(l.color=r[o].color,l.colorRGB=r[o].colorRGB,l.name=r[o].name),i[o]=l}e(f({id:t,key:"additionalColors",value:i}))}})]})}))},U=function(t,n,e){var o=n.map((function(t,n){return Object(i.jsx)("option",{value:n,children:t.name})}));return o.unshift(Object(i.jsx)("option",{value:"none",children:"Select a Material"})),Object(i.jsx)("select",{name:"materials",id:"materials",onChange:function(i){e(f({id:t.id,key:"entityIndex",value:i.target.value})),e(f({id:t.id,key:"entity",value:n[i.target.value]}))},value:t.entityIndex,children:o})},Y=function(t){var n=Object(s.b)(),e=t.option,o=Object(s.c)(S).map((function(t){return Object(i.jsxs)("option",{value:t.instanceID,children:[W(t.depth),t.name]})}));return o.unshift(Object(i.jsx)("option",{value:0,children:"Select a Node"})),Object(i.jsx)("select",{name:"nodes",id:"nodes",className:"material__select",value:e.entity.instanceID,onChange:function(t){return n(f({id:e.id,key:"entity",value:{instanceID:t.target.value}}))},children:o})},W=function(t){for(var n="",e=0;e<t;++e)n+="--";return n},$=function(t){for(var n=Object(s.b)(),e=t.option,o=Object(s.c)(S),a=[],r=[],l=0;l<o.length;++l){for(var c=o[l].name.split("-").filter((function(t){return""!=t})),d=c[0],u=c[1],m=c[2],g=3;g<c.length;++g)m+=c[g];-1==a.indexOf(d)&&-1==["Group","RootNode","MatrixTransform"].indexOf(d)&&(a.push(d),r.push({instanceID:o[l].instanceID,designation:d,capitalLetter:u,detailedTitle:m}))}n(y(r));var p=function(t){return r.map((function(o){return Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsxs)("div",{style:{display:"flex",flex:"1 1 auto"},children:[Object(i.jsx)("input",{checked:t.designations.includes(o.designation),type:"checkbox",onChange:function(){for(var i=[],a=0;a<e.groupings.length;++a)if(t.id==e.groupings[a].id)if(t.designations.includes(o.designation))i[a]={id:e.groupings[a].id,name:e.groupings[a].name,designations:e.groupings[a].designations.filter((function(t){return t!=o.designation})),allowsAnimation:e.groupings[a].allowsAnimation.filter((function(t){return t!=o.designation}))};else{var r=e.groupings[a].designations.map((function(t){return t}));r.push(o.designation);var l=e.groupings[a].allowsAnimation.map((function(t){return t}));l.push(o.designation),i[a]={id:e.groupings[a].id,name:e.groupings[a].name,designations:r,allowsAnimation:l}}else i[a]={id:e.groupings[a].id,name:e.groupings[a].name,designations:e.groupings[a].designations,allowsAnimation:e.groupings[a].allowsAnimation};console.log(i),n(f({id:e.id,key:"groupings",value:i}))}}),Object(i.jsx)("div",{children:o.designation})]}),Object(i.jsx)("div",{children:"Animation:"}),Object(i.jsx)("input",{checked:t.allowsAnimation.includes(o.designation),disabled:!t.designations.includes(o.designation),type:"checkbox",onChange:function(i){for(var a=[],r=0;r<e.groupings.length;++r)if(t.id==e.groupings[r].id)if(t.allowsAnimation.includes(o.designation))a[r]={id:e.groupings[r].id,name:e.groupings[r].name,designations:e.groupings[r].designations,allowsAnimation:e.groupings[r].allowsAnimation.filter((function(t){return t!=o.designation}))};else{var l=e.groupings[r].allowsAnimation.map((function(t){return t}));l.push(o.designation),a[r]={id:e.groupings[r].id,name:e.groupings[r].name,designations:e.groupings[r].designations,allowsAnimation:l}}else a[r]={id:e.groupings[r].id,name:e.groupings[r].name,designations:e.groupings[r].designations,allowsAnimation:e.groupings[r].allowsAnimation};console.log(a),n(f({id:e.id,key:"groupings",value:a}))}})]})}))};return Object(i.jsxs)("div",{className:"grouping__container",children:[Object(i.jsx)("button",{className:"add__button",onClick:function(){if(void 0==e.groupings||null==e.groupings){var t={id:e.id,key:"groupings",value:[{id:K(),name:"grouping",designations:[],allowsAnimation:[]}]};n(f(t))}else{for(var i=[],o=0;o<e.groupings.length;++o)i[o]=e.groupings[o];i.push({id:K(),name:"default",designations:[],allowsAnimation:[]}),n(f({id:e.id,key:"groupings",value:i}))}},children:"+ Add Grouping"}),Object(i.jsx)("div",{className:"additional-color__container",id:"".concat(e.id,"-additionalColors"),children:function(t,n,o){return null==n||void 0==n?Object(i.jsx)("div",{}):n.map((function(t,a,r){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsxs)("label",{children:["Grouping ",a,":"]}),Object(i.jsx)("input",{type:"text",value:n[a].name,onChange:function(n){for(var i=[],a=0;a<e.groupings.length;++a)t.id==e.groupings[a].id?i[a]={id:e.groupings[a].id,name:n.target.value,designations:e.groupings[a].designations,allowsAnimation:e.groupings[a].allowsAnimation}:i[a]={id:e.groupings[a].id,name:e.groupings[a].name,designations:e.groupings[a].designations,allowsAnimation:e.groupings[a].allowsAnimation};o(f({id:e.id,key:"groupings",value:i}))}}),Object(i.jsx)("button",{title:"Remove option",onClick:function(){var t=n.filter((function(t){return t.name!==n[a].name})),i={id:e.id,key:"groupings",value:t};o(f(i))},children:Object(i.jsx)("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"},children:Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"m15.9 30.7v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 \r 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.7 0v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 \r 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.8 \r 0v-15.7q0-0.3-0.2-0.5t-0.6-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 \r 0.2h1.4q0.4 0 0.6-0.2t0.2-0.5z m-12.2-22.1h10l-1.1-2.6q-0.1-0.2-0.3-0.3h-7.1q-0.2 \r 0.1-0.4 0.3z m20.7 0.7v1.4q0 0.3-0.2 0.5t-0.5 0.2h-2.1v21.2q0 1.8-1.1 3.2t-2.5 \r 1.3h-18.6q-1.4 0-2.5-1.3t-1-3.1v-21.3h-2.2q-0.3 0-0.5-0.2t-0.2-0.5v-1.4q0-0.3 \r 0.2-0.5t0.5-0.2h6.9l1.6-3.8q0.3-0.8 1.2-1.4t1.7-0.5h7.2q0.9 0 1.8 0.5t1.2 1.4l1.5 \r 3.8h6.9q0.3 0 0.5 0.2t0.2 0.5z"})})})})]}),Object(i.jsx)("div",{children:p(t)})]})}))}(e.id,e.groupings,n)})]})};function K(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}))}var Q=function(t){var n=Object(s.b)(),e=t.option,o=Object(s.c)(B).map((function(t){return Object(i.jsx)("option",{value:t[0],children:t[1]})}));return o.unshift(Object(i.jsx)("option",{value:"none",children:"Select an Animation"})),Object(i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Animation:"}),Object(i.jsx)("select",{name:"animationSelect",value:e.animationUID,onChange:function(t){return n(f({id:e.id,key:"animationUID",value:t.target.value}))},children:o})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"start",children:"Start Time:"}),Object(i.jsx)("input",{type:"number",name:"start",value:e.startTime,onChange:function(t){return n(f({id:e.id,key:"startTime",value:t.target.value}))}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"end",children:"End Time:"}),Object(i.jsx)("input",{type:"number",name:"end",value:e.endTime,onChange:function(t){return n(f({id:e.id,key:"endTime",value:t.target.value}))}})]})]})},X=function(){var t=Object(s.c)(I),n=Object(s.c)(A),e=Object(s.b)();return Object(i.jsxs)("div",{style:{overflow:"auto"},children:[Object(i.jsx)("button",{className:"add-option add__button",disabled:n,onClick:function(){return e(D())},children:"+ Add Option"}),Object(i.jsx)("div",{className:"single-option__panels__container",children:Z(t,e)})]})},Z=function(t,n){return t.map((function(t,e,o){return Object(i.jsxs)("div",{className:"single-option__panel",children:[Object(i.jsxs)("div",{className:"single-option__header",children:[Object(i.jsxs)("h3",{className:"single-option__title",children:[t.id,". ",t.type]}),Object(i.jsx)("button",{id:"collapseButton".concat(t.id),className:"collapse__button",onClick:function(e){return n(f({id:t.id,key:"isExpanded",value:!t.isExpanded}))},children:t.isExpanded?"Collapse":"Expand"}),Object(i.jsx)("button",{title:"Remove option",onClick:function(){var e=o.filter((function(n){return n.id!==t.id}));n(b(e))},children:Object(i.jsx)("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"},children:Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"m15.9 30.7v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 \r 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.7 0v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 \r 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.8 \r 0v-15.7q0-0.3-0.2-0.5t-0.6-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 \r 0.2h1.4q0.4 0 0.6-0.2t0.2-0.5z m-12.2-22.1h10l-1.1-2.6q-0.1-0.2-0.3-0.3h-7.1q-0.2 \r 0.1-0.4 0.3z m20.7 0.7v1.4q0 0.3-0.2 0.5t-0.5 0.2h-2.1v21.2q0 1.8-1.1 3.2t-2.5 \r 1.3h-18.6q-1.4 0-2.5-1.3t-1-3.1v-21.3h-2.2q-0.3 0-0.5-0.2t-0.2-0.5v-1.4q0-0.3 \r 0.2-0.5t0.5-0.2h6.9l1.6-3.8q0.3-0.8 1.2-1.4t1.7-0.5h7.2q0.9 0 1.8 0.5t1.2 1.4l1.5 \r 3.8h6.9q0.3 0 0.5 0.2t0.2 0.5z"})})})})]}),Object(i.jsxs)("div",{style:{display:t.isExpanded?"block":"none"},children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("p",{className:"nameFieldTitle",children:"Name:"}),Object(i.jsx)("input",{type:"text",name:"colorName",id:"colorName",value:t.name,onChange:function(e){return n(f({id:t.id,key:"name",value:e.target.value}))}})]}),tt(t)]})]})}))},tt=function(t){return"color"==t.type?Object(i.jsx)(J,{option:t}):"toggle"==t.type?Object(i.jsx)(Y,{option:t}):"animation"==t.type?Object(i.jsx)(Q,{option:t}):"grouping"==t.type?Object(i.jsx)($,{option:t}):void 0},nt=function(){var t=Object(s.b)(),n=Object(s.c)(S),e=Object(s.c)(w),o=Object(s.c)(T),a=n.map((function(n){return Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("input",{id:n.instanceID,type:"checkbox",checked:o[n.instanceID],onChange:function(n){n.target.checked?(e.show(n.target.id),t(j({id:n.target.id,value:!0}))):(e.hide(n.target.id),t(j({id:n.target.id,value:!1})))}}),Object(i.jsxs)("div",{className:"node-name",children:[et(n.depth),n.name]})]})}));return a.unshift(Object(i.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid black"},children:[Object(i.jsx)("input",{type:"checkbox",checked:Object.values(o).reduce((function(t,n){return t&&n})),onChange:function(n){t(O(n.target.checked))}}),Object(i.jsx)("div",{className:"node-name",children:"All Nodes"})]})),Object(i.jsxs)("div",{style:{overflow:"auto"},children:[Object(i.jsx)("div",{id:"nodeControls",children:a}),Object(i.jsx)("div",{id:"animationControls"})]})},et=function(t){for(var n="",e=0;e<t;++e)n+="--";return n},it=function(){var t=Object(s.b)(),n=Object(s.c)(E),e=Object(s.c)(A),o={backgroundColor:"nodes"==n?"white":"gray"},a={backgroundColor:"options"==n?"white":"gray"};return Object(i.jsxs)("div",{className:"control-menu",children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("button",{className:"control-menu__button",style:o,disabled:e,onClick:function(){return t(x("nodes"))},children:"Nodes"}),Object(i.jsx)("button",{className:"control-menu__button",style:a,onClick:function(){return t(x("options"))},children:"Options"})]}),function(t){return"options"===t?Object(i.jsx)(X,{}):"nodes"===t?Object(i.jsx)(nt,{}):void 0}(n)]})};e(25),e(26);var ot=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(q,{}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)(L,{}),Object(i.jsx)(it,{}),Object(i.jsx)(P,{}),Object(i.jsx)(H,{})]})]})},at=Object(c.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,n){t.value+=n.payload}}}),rt=at.actions,lt=(rt.increment,rt.decrement,rt.incrementByAmount,at.reducer),st=Object(c.a)({reducer:{counter:lt,viewer:M}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(s.a,{store:st,children:Object(i.jsx)(ot,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.ceb2f09a.chunk.js.map