(this["webpackJsonpsketchfab-configurator-studio"]=this["webpackJsonpsketchfab-configurator-studio"]||[]).push([[0],{22:function(t,e,n){},31:function(t,e,n){},32:function(t,e){window.onclick=function(t){var e=document.getElementById("modal");t.target==e&&(e.style.display="none")}},33:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(1),r=n.n(i),o=n(6),s=n.n(o),c=(n(22),n(2)),l=n(5),d={modelId:"",materials:[],animations:[],sceneGraph:[],controls:[],disableButtons:!0,latestControlId:0,sketchfabAPI:null,sceneGraphIsVisible:{},viewMode:"options",surfaceOptionMap:{},surfaceConfigurationMode:!1,materialNameSegmentMap:{},surfaceAttributeNameMap:{},groupingOptions:[],hiddenCategoryConfigurations:{}},u=Object(l.b)({name:"viewer",initialState:d,reducers:{resetState:function(t){d},setSketchfabAPI:function(t,e){t.sketchfabAPI=e.payload},setModelId:function(t,e){t.modelId=e.payload},setMaterials:function(t,e){t.materials=e.payload},setAnimations:function(t,e){t.animations=e.payload},setSceneGraph:function(t,e){Z(t,e.payload.children,0),Y(t)},setSceneGraphIsVisible:function(t,e){var n=e.payload,a=n.id,i=n.value;t.sceneGraphIsVisible[a]=i},createControl:function(t,e){t.latestControlId=t.latestControlId+=1;var n=t.latestControlId,a={};"animation"===e.payload&&(a={animationUID:"none",startTime:"0",endTime:"0"}),"category"===e.payload&&(a={designations:{},allowsAnimation:[]}),t.controls.unshift({type:e.payload,id:n,name:e.payload,entityIndex:"none",entity:{instanceID:0},configuration:a,isExpanded:!0})},setViewMode:function(t,e){t.viewMode=e.payload},setControls:function(t,e){t.controls=e.payload},toggleDisableButtons:function(t){t.disableButtons=!1},updateControl:function(t,e){var n=e.payload,a=n.id,i=n.key,r=n.value;console.log(e.payload);for(var o=0;o<t.controls.length;++o)t.controls[o].id==a&&(t.controls[o][i]=r)},setSurfaceOptionMap:function(t,e){console.log("setSurfaceOptionMap -> action.payload"),console.log(e.payload),t.surfaceOptionMap=e.payload},setSurfaceConfigurationMode:function(t,e){t.surfaceConfigurationMode=e.payload},setMaterialNameSegmentMap:function(t,e){console.log("setMaterialNameSegmentMap -> action.payload:"),console.log(e.payload),t.materialNameSegmentMap=e.payload},setSurfaceAttributeNameMap:function(t,e){t.surfaceAttributeNameMap=e.payload},setUnselectedGeometries:function(t,e){t.groupingOptions=e.payload},setHiddenCategoryConfigurations:function(t,e){t.hiddenCategoryConfigurations=e.payload},setAllNodesVisible:function(t,e){for(var n=0;n<Object.keys(t.sceneGraphIsVisible).length;++n)e.payload?t.sketchfabAPI.show(Object.keys(t.sceneGraphIsVisible)[n]):t.sketchfabAPI.hide(Object.keys(t.sceneGraphIsVisible)[n]),t.sceneGraphIsVisible[Object.keys(t.sceneGraphIsVisible)[n]]=e.payload}}}),m=u.actions,p=(m.resetState,m.setModelId),f=m.createControl,g=m.toggleDisableButtons,h=m.updateControl,v=m.setControls,b=m.setSceneGraph,j=m.setSceneGraphIsVisible,y=m.setViewMode,O=m.setUnselectedGeometries,C=m.setHiddenCategoryConfigurations,k=m.setSurfaceOptionMap,x=m.setSurfaceConfigurationMode,N=m.setMaterialNameSegmentMap,S=m.setSurfaceAttributeNameMap,M=m.setAllNodesVisible,w=m.setAnimations,I=m.setMaterials,A=m.setSketchfabAPI,E=function(t){return t.viewer.modelId},T=function(t){return t.viewer.materials},L=function(t){return t.viewer.animations},B=function(t){return t.viewer.controls},_=function(t){return t.viewer.disableButtons},D=function(t){return t.viewer.sceneGraph},G=function(t){return t.viewer.sketchfabAPI},q=function(t){return t.viewer.sceneGraphIsVisible},P=function(t){return t.viewer.viewMode},J=function(t){return t.viewer.surfaceOptionMap},R=function(t){return t.viewer.surfaceConfigurationMode},H=function(t){return t.viewer.materialNameSegmentMap},V=function(t){return t.viewer.surfaceAttributeNameMap},U=function(t){return t.viewer.groupingOptions},F=function(t){return t.viewer.hiddenCategoryConfigurations},z=function(){return function(t){var e=document.getElementById("modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},W=function(){return function(t){var e=document.getElementById("control-choice-modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},Z=function t(e,n,a){for(var i=0;i<n.length;++i)"Group"!=n[i].type&&"RootNode"!=n[i].name&&(void 0==n[i].name?e.sceneGraph.push({name:n[i].type,depth:a,instanceID:n[i].instanceID,materialID:n[i].materialID}):e.sceneGraph.push({name:n[i].name,depth:a,instanceID:n[i].instanceID,materialID:n[i].materialID})),e.sceneGraphIsVisible[n[i].instanceID]=!0,void 0==n[i].children&&null==n[i].children||t(e,n[i].children,a+1)},Y=function(t){for(var e=[],n=[],a=0;a<t.sceneGraph.length;++a){for(var i=t.sceneGraph[a].name.split("-").filter((function(t){return""!=t})),r=i[0],o=i[1],s=i[2],c=3;c<i.length;++c)s+=i[c];-1==e.indexOf(r)&&-1==["Group","RootNode","MatrixTransform"].indexOf(r)&&(e.push(r),n.push({instanceID:t.sceneGraph[a].instanceID,designation:r,capitalLetter:o,detailedTitle:s,isAvailable:!0}))}n.sort((function(t,e){return t.designation.charCodeAt(0)-e.designation.charCodeAt(0)})),t.groupingOptions=n},X=u.reducer,$=n(13),K=n.n($),Q=function(){var t=Object(c.c)(E),e=Object(c.c)(_),n=Object(c.b)();return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("h1",{className:"header__title",children:"Configurator Studio - v1.0.6"}),Object(a.jsxs)("div",{className:"header__buttons",children:[Object(a.jsx)("input",{id:"model-id-input",value:t,onChange:function(t){return n(p(t.target.value))}}),Object(a.jsx)("button",{id:"displayButton",className:"header__button",onClick:function(){return n(function(t){return function(e){e(v([]));var n,a,i,r,o,s,c=document.getElementById("api-frame"),l=[];r=function(){i.getCurrentTime((function(t,e){if(!n){var a=100*e/o;s.value=a,document.getElementById("timeDisplay").innerHTML=e.toFixed(2),2==e&&i.seekTo(1),requestAnimationFrame(r)}}))},{api:null,config:null,options:[],init:function(t,c){this.config=t,new K.a("1.8.2",c).init(t.urlid,{ui_controls:0,graph_optimizer:0,ui_animations:0,ui_watermark:0,ui_inspector:0,ui_stop:0,ui_infos:0,success:function(t){document.getElementById("animationControls").innerHTML='\n                        <div style="display: flex; justify-content: center;">\n                          <p id="timeDisplay"></p>\n                          <p id="animationName" style="margin-left: 50px;"></p>\n                        </div>\n                        <button id="play">Play</button>\n                        <button id="pause">Pause</button>\n                        <button id="previous">Previous</button>\n                        <button id="next">Next</button>\n                        <input \n                          id="timeSlider" \n                          class="slider timeSlider" \n                          style="width:100%" \n                          type="range" \n                          min="0" \n                          max="100" \n                          step="0.1" \n                          value="0"\n                        />\n                    ',i=t,e(A(t)),t.start(),t.addEventListener("viewerready",function(){this.api=t,t.pause(),t.getAnimations((function(i,c){l=c,e(w(c)),0==c.length?document.getElementById("animationControls").innerHTML="":(document.getElementById("pause").addEventListener("click",(function(){t.pause()})),document.getElementById("play").addEventListener("click",(function(){t.play()})),document.getElementById("previous").addEventListener("click",(function(){0===a&&(a=l.length),a--,t.setCurrentAnimationByUID(l[a][0]),t.seekTo(0),o=l[a][2],document.getElementById("animationName").innerHTML=l[a][1]})),document.getElementById("next").addEventListener("click",(function(){++a===l.length&&(a=0),t.setCurrentAnimationByUID(l[a][0]),t.seekTo(0),o=l[a][2],document.getElementById("animationName").innerHTML=l[a][1]})),document.getElementById("animationName").innerHTML=l[0][1],a=0,t.setCurrentAnimationByUID(c[a][0]),o=c[a][2],n=!1,(s=document.getElementById("timeSlider")).addEventListener("change",(function(){n=!1;var t=o*s.value/100;document.getElementById("timeDisplay").innerHTML=t.toFixed(2)})),s.addEventListener("input",(function(){n=!0;var e=o*s.value/100;document.getElementById("timeDisplay").innerHTML=e.toFixed(2),t.pause(),t.seekTo(e)})),r())})),e(g()),t.getSceneGraph((function(t,n){t?console.log("Error getting nodes"):e(b(n))})),t.getMaterialList((function(t,n){e(I(n));for(var a={},i={},r={},o=0;o<n.length;++o)if(null!==n[o].name.match(/[a-zA-Z]*-[A-Z]+-[a-zA-Z]+/g)){for(var s=n[o].name.split("-").filter((function(t){return""!=t}))[0],c=n[o].name.match(/[A-Z]+-/g).map((function(t){return t.replace("-","")})),l=c[0],d=0;d<c.length;++d)i[c[d]]=c[d];if(console.log("\n\nmaterialNameSegmentMap"),console.log(i),void 0===a[s]){a[s]={},r[s]=["Attribute Name"],a[s][c[0]]=[];for(var u=1;u<c.length;++u)r[s].push("Attribute Name"),a[s][l].push([c[u]])}else if(void 0===a[s][l]){a[s][l]=[];for(var m=1;m<c.length;++m)a[s][l].push([c[m]])}else for(var p=1;p<c.length;++p){var f=a[s][l][p-1];-1===f.indexOf(c[p])&&f.push(c[p])}}e(N(i)),e(k(a)),e(S(r))}))}.bind(this))}.bind(this),error:function(){console.log("Viewer error")}})}}.init({urlid:""!==t?t:"66e17931c39e4042ac5aa8764bee7f5a",prefix:"seat "},c)}}(t))},children:"Load Model"}),Object(a.jsx)("button",{id:"export-javascript",className:"header__button",disabled:e,onClick:function(){return n(z())},children:"Export"})]})]})},tt=function(){return Object(a.jsxs)("div",{class:"viewer",children:[Object(a.jsx)("iframe",{src:"",id:"api-frame",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true"}),Object(a.jsx)("div",{id:"animationControls"})]})},et=function(){var t=Object(c.b)(),e={controls:Object(c.c)(B),modelId:Object(c.c)(E),sceneGraph:Object(c.c)(D),materials:Object(c.c)(T),surfaceOptionMap:Object(c.c)(J),surfaceConfigurationMode:Object(c.c)(R),materialNameSegmentMap:Object(c.c)(H),surfaceAttributeNameMap:Object(c.c)(V),groupingOptions:Object(c.c)(U),hiddenCategoryConfigurations:Object(c.c)(F)};return Object(a.jsx)("div",{id:"modal",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("span",{class:"close",onClick:function(){return t(z())},children:"\xd7"}),Object(a.jsx)("div",{className:"modal__header",children:Object(a.jsx)("h1",{children:"Add This To Your Page"})}),Object(a.jsx)("textarea",{id:"js-output",value:nt(e)})]})})},nt=function(t){var e=t.controls,n=t.modelId,a=t.sceneGraph,i=t.materials,r=t.surfaceOptionMap,o=t.surfaceConfigurationMode,s=t.materialNameSegmentMap,c=t.surfaceAttributeNameMap,l=t.groupingOptions,d=t.hiddenCategoryConfigurations;return"\n// Sketchfab Viewer API: Change Texture/material\nvar version = '1.8.2';\nvar uid = '".concat(""===n?"66e17931c39e4042ac5aa8764bee7f5a":n,"';\nvar iframe = document.getElementById('api-frame');\nvar client = new window.Sketchfab(version, iframe);\n\nvar myMaterials = ").concat(JSON.stringify(i),"\n\nvar error = function() {\n\tconsole.error('Sketchfab API error');\n};\n\nvar controls = ").concat(JSON.stringify(e),"\n\nvar sceneGraph = ").concat(JSON.stringify(a),"\n\nvar groupingOptions = ").concat(JSON.stringify(l),"\nvar hiddenCategoryConfigurations = ").concat(JSON.stringify(d),"\n\nvar surfaceConfigurationMode = ").concat(o,";\nvar surfaceOptionMap = ").concat(JSON.stringify(r),";\nvar materialNameSegmentMap = ").concat(JSON.stringify(s),";\nvar surfaceAttributeNameMap = ").concat(JSON.stringify(c),';\n\nvar animationObjects = {};\n\nvar controlsContainer = document.getElementById(\'sketchfab-lower-controls\');\nvar toggleableItems = {};\nvar toggleableGroups = {};\n\nvar currentAnimation = "";\nvar currentAnimationEndTime = 0;\nvar isElementCategoryControlled = false;\nvar firstGroupingControlIndex = -1;\nvar appContainer = document.querySelector("div.sketchfab__container")\n\nvar appWidth = Number(appContainer.style.width.replace("px",""))\nappContainer.style.display = "block"\n\nvar apiSkfb, pollTime;\n\nvar buildNodeNameArray = function(children, depth) {\n\tfor (let i=0; i<children.length; ++i) {\n\t\tif(children[i].name == undefined) {\n\t\t\tnameArrays.push({name: children[i].type, depth: depth, instanceID: children[i].instanceID});\n\t\t} else {\n\t\t\tnameArrays.push({name: children[i].name, depth: depth, instanceID: children[i].instanceID});\n\t\t}\n\t\tif (children[i].children != undefined || children[i].children != null) {\t\t\t\n\t\t\tbuildNodeNameArray(children[i].children, depth+1);\n\t\t}\n\t}\n}\n\npollTime = function() {\n\tapiSkfb.getCurrentTime(function(err, time) {\n\t\t\n\t\tif (currentAnimationEndTime > 0 && time >= currentAnimationEndTime) {\n\t\t\tapiSkfb.pause();\n\t\t}\n\t\trequestAnimationFrame(pollTime);\n\t});\n};\n\nvar success = function(api) {\n    apiSkfb = api;\n\tapi.start(function() {\n\t\tapi.addEventListener(\'viewerready\', function() {\n\t\t\tcategorySelectObserver = new MutationObserver(function(mutationsList, categorySelectObserver) {\n\t\t\t\tsetVisibleNodes(api);\n\t\t\t});\n\t\t\t\n\t\t\tapi.pause();\n\t\t\t\n\t\t\tvar animations = [];\n\t\t\tfor (let i = 0; i < controls.length; ++i) {\t\n\t\t\t\tif (controls[i].type == "animation") {\n\t\t\t\t\tvar animationControls = document.getElementById("sketchfab-animation-controls")\n\t\t\t\t\tanimationControls.style.display = "block";\n\t\t\t\t\t\n\t\t\t\t\tvar animationButtonContainer = document.getElementById("sketchfab-animation-buttons")\n\t\t\t\t\tvar animationButton = document.createElement("button")\n\t\t\t\t\tanimationButton.id = "animation-" + controls[i].id\n\t\t\t\t\tanimationButton.textContent = controls[i].name;\n\t\t\t\t\tanimationButton.addEventListener(\'click\', function(e) {\n\t\t\t\t\t\tvar animationId = e.target.id.split("-")[1]\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar startTime = animationObjects[animationId].startTime;\n\t\t\t\t\t\tvar endTime = animationObjects[animationId].endTime;\n\t\t\t\t\t\tvar animationUID = animationObjects[animationId].uid;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcurrentAnimationEndTime = endTime;\n\t\t\t\t\t\tapi.setCurrentAnimationByUID(animationUID);\n\t\t\t\t\t\tapi.seekTo(startTime);\n\t\t\t\t\t\tapi.play();\n\t\t\t\t\t})\n\t\t\t\t\tanimationButtonContainer.appendChild(animationButton)\n\t\t\t\t\t\n\t\t\t\t\tanimations.push(controls[i]);\n\t\t\t\t\tanimationObjects[controls[i].id] = {name: controls[i].name, startTime: Number(controls[i].configuration.startTime), endTime: Number(controls[i].configuration.endTime), uid: controls[i].configuration.animationUID}; \n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (controls[i].type == "surfaceConfiguration") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\tsingleControlContainer.classList.add("sketchfab-single-control-container");\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tif (controls[i].type == "color") {\n\t\t\t\t\tvar resetBut = document.createElement("button");\n\t\t\t\t\tresetBut.innerHTML = "Reset";\n\t\t\t\t\tresetBut.onclick = function(e) {\t\n\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\tm = JSON.parse(JSON.stringify(controls[i].entity));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(resetBut);\n\t\t\t\t\t\n\t\t\t\t\tfor (let j = 0; j < controls[i].additionalColors.length; ++j) {\n\t\t\t\t\t\tvar colorBut = document.createElement("button");\n\n\t\t\t\t\t\tcolorBut.innerHTML = controls[i].additionalColors[j].name;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcolorBut.id = controls[i].id + "-" + controls[i].name\n\t\t\t\t\t\tcolorBut.onclick = function(e) {\t\n\t\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.factor = 1;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.enable = true;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffuseColor.factor = 1;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.enable = true;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffusePBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.enable = false;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.factor = 1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsingleControlContainer.appendChild(colorBut);\n\t\t\t\t\t}\t\n\t\t\t\t} else if (controls[i].type == "toggle") {\n\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\tvar toggleBut = document.createElement("button");\n\t\t\t\t\ttoggleBut.innerHTML = "Toggle " + controls[i].name;\n\t\t\t\t\ttoggleBut.id = controls[i].entity.instanceID;\n\t\t\t\t\ttoggleBut.onclick = function(e) {\n\t\t\t\t\t\tvar isVisible = toggleableItems[e.target.id];\n\t\t\t\t\t\tif (isVisible == "visible") {\n\t\t\t\t\t\t\tapi.hide(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "hidden";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapi.show(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(toggleBut);\n\t\t\t\t} else if (controls[i].type === "category") {\t\n\t\t\t\t\tisElementCategoryControlled = true;\n\t\t\t\t\t\n\t\t\t\t\tvar wrapper = generateSelect(i);\n\t\t\t\t\tvar customOptions = wrapper.querySelector(".sketchfab-options")\n\t\t\t\t\t\n\t\t\t\t\tfor (var j=0; j<Object.keys(controls[i].configuration.designations).length; ++j) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\tcustomOption.classList.add("sketchfab-option");\n\t\t\t\t\t\tif (j===0) {\n\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar name = Object.keys(controls[i].configuration.designations)[j];\n\t\t\t\t\t\tvar humanReadable = Object.values(controls[i].configuration.designations)[j]\n\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\tcustomOption.id = name + "-" + j + "-" + i;\n\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function(e) {\n\t\t\t\t\t\t\thandleUpdateSelect(e);\n\t\t\t\t\t\t\tvar optionName = e.target.id.split("-")[0]\n\t\t\t\t\t\t\thandleHidingOptions(optionName);\n\t\t\t\t\t\t\tvar allCategoryOptions = document.querySelectorAll(".sketchfab-category .sketchfab-option")\n\t\t\t\t\t\t\tfor (var k=0; k<allCategoryOptions.length; ++k) {\n\t\t\t\t\t\t\t\tallCategoryOptions[k].style.visibility = "visible";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar currentCategorySelections = Array.from(document.querySelectorAll(".sketchfab-category .sketchfab-select"))\n\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(select => !select.classList.contains("sketchfab-select-open"))\n\t\t\t\t\t\t\t\t\t\t\t\t\t.map(select => select.querySelector(".sketchfab-select-value").textContent)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcurrentCategorySelections.push(optionName)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfor (var k=0; k<currentCategorySelections.length; ++k) {\n\t\t\t\t\t\t\t\tvar selectionName = currentCategorySelections[k];\n\t\t\t\t\t\t\t\tif (hiddenCategoryConfigurations[selectionName] !== undefined) {\n\t\t\t\t\t\t\t\t\tfor (var l=0; l<hiddenCategoryConfigurations[selectionName].length; ++l) {\n\t\t\t\t\t\t\t\t\t\tvar nameToHide = hiddenCategoryConfigurations[selectionName][l]\n\t\t\t\t\t\t\t\t\t\tvar optionToHide = document.querySelector("[data-value=\'" + nameToHide + "\']")\n\t\t\t\t\t\t\t\t\t\toptionToHide.style.visibility = "hidden"\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdisableAnimations();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t}\n\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t}\n\t\t\t\n\t\t\t//show/hide to OG specification\n\t\t\tif (isElementCategoryControlled) {\n\t\t\t\twindow.addEventListener(\'click\', function(e) {\n\t\t\t\t\tfor (const select of document.querySelectorAll(\'.sketchfab-select\')) {\n\t\t\t\t\t\tif (!select.contains(e.target)) {\n\t\t\t\t\t\t\tselect.classList.remove(\'sketchfab-select-open\');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsetVisibleNodes(api);\n\t\t\t\thandleHidingOptions();\n\t\t\t\tdisableAnimations();\n\t\t\t}\n\t\t\t\n\t\t\tif (animations.length > 0) {\n\t\t\t\tpollTime();\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif (surfaceConfigurationMode) {\n\t\t\t\t\n\t\t\t\tfor (var i=0; i<Object.keys(surfaceOptionMap).length; ++i) {\n\t\t\t\t\tvar surfaceName = Object.keys(surfaceOptionMap)[i]\n\t\t\t\t\tvar primaryInitialValue = Object.keys(surfaceOptionMap[surfaceName])[0]\n\t\t\t\t\t\n\t\t\t\t\tfor (j=0; j<surfaceAttributeNameMap[surfaceName].length; ++j) {\n\t\t\t\t\t\tif(j === 0) {\n\t\t\t\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\t\t\t\tsingleControlContainer.classList.add("sketchfab-single-control-container")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar wrapper = generateSurfaceSelect(surfaceName, i, j)\n\t\t\t\t\t\t\tvar customOptions = wrapper.querySelector(".sketchfab-options")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfor (var k=0; k<Object.keys(surfaceOptionMap[surfaceName]).length; ++k) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\t\tcustomOption.classList.add("sketchfab-option");\n\t\t\t\t\t\t\t\tif (k===0) {\n\t\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar name = Object.keys(surfaceOptionMap[surfaceName])[k]\n\t\t\t\t\t\t\t\tvar humanReadable = materialNameSegmentMap[name];\n\t\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\t\tcustomOption.id = name + "-" + surfaceName + "-" + j + "-" + k + "-" + i;\n\t\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function(e) {\n\t\t\t\t\t\t\t\t\thandleUpdateSelect(e)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar nameCode = this.id.split("-")[0]\n\t\t\t\t\t\t\t\t\tvar currentSurfaceName = this.id.split("-")[1]\n\t\t\t\t\t\t\t\t\tvar surfaceElementIndex = this.id.split("-")[2]\n\t\t\t\t\t\t\t\t\tvar subPrimaryOptionArrays = document.getElementsByClassName(currentSurfaceName + "-options")\n\t\t\t\t\t\t\t\t\tvar primaryAttributeName = surfaceAttributeNameMap[currentSurfaceName][0]\n\t\t\t\t\t\t\t\t\tfor(var l=0; l<subPrimaryOptionArrays.length; ++l) {\n\t\t\t\t\t\t\t\t\t\tvar subPrimaryOptionElementName = subPrimaryOptionArrays[l].id.split("-")[1]\n\t\t\t\t\t\t\t\t\t\tsubPrimaryOptionArrays[l].innerHTML = "";\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tvar selectTitle = document.createElement("h3")\n\t\t\t\t\t\t\t\t\t\tselectTitle.classList.add("sketchfab-title")\n\t\t\t\t\t\t\t\t\t\tselectTitle.textContent = currentSurfaceName + " - " + surfaceAttributeNameMap[currentSurfaceName][surfaceElementIndex];\n\t\t\t\t\t\t\t\t\t\tsubPrimaryOptionArrays[l].appendChild(selectTitle)\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tvar triggerSpan = document.getElementById("triggerSpan" + "-" + currentSurfaceName + "-" + surfaceAttributeNameMap[currentSurfaceName][l+1] + "-" + (l+1))\n\t\t\t\t\t\t\t\t\t\ttriggerSpan.textContent = surfaceOptionMap[currentSurfaceName][nameCode][l][0]\n\t\t\t\t\t\t\t\t\t\tfor (var m=0; m<surfaceOptionMap[currentSurfaceName][nameCode][l].length; ++m) {\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.classList.add("sketchfab-option");\n\t\t\t\t\t\t\t\t\t\t\tif (m===0) {\n\t\t\t\t\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvar name = surfaceOptionMap[currentSurfaceName][nameCode][l][m]\n\t\t\t\t\t\t\t\t\t\t\tvar humanReadable = materialNameSegmentMap[name];\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.id = name + "-" + currentSurfaceName + "-" + j + "-" + k + "-" + i;\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', e => setNonPrimarySurfaceConfiguration(e, api))\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsubPrimaryOptionArrays[l].appendChild(customOption)\n\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tconfigureMaterials(currentSurfaceName, primaryAttributeName, api)\n\t\t\t\t\t\t\t\t})\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\t\t\t\tsingleControlContainer.classList.add("sketchfab-single-control-container")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar wrapper = document.createElement("div")\n\t\t\t\t\t\t\twrapper.classList.add("sketchfab-select-wrapper")\n\t\t\t\t\t\t\twrapper.style.width = (appWidth/4) + "px";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar select = document.createElement("div")\n\t\t\t\t\t\t\tselect.classList.add("sketchfab-select")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar selectTrigger = document.createElement("div")\n\t\t\t\t\t\t\tselectTrigger.classList.add("sketchfab-select__trigger")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar triggerSpan = document.createElement("span")\n\t\t\t\t\t\t\ttriggerSpan.textContent = surfaceOptionMap[surfaceName][primaryInitialValue][j-1][0]\n\t\t\t\t\t\t\ttriggerSpan.id = "triggerSpan-" + surfaceName + "-" + surfaceAttributeNameMap[surfaceName][j] + "-" + j;\n\t\t\t\t\t\t\ttriggerSpan.classList.add(surfaceName + "-triggerSpan")\n\t\t\t\t\t\t\tselectTrigger.appendChild(triggerSpan)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar arrow = document.createElement("div")\n\t\t\t\t\t\t\tarrow.classList.add("sketchfab-select-arrow")\n\t\t\t\t\t\t\tselectTrigger.appendChild(arrow)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar customOptions = document.createElement("div")\n\t\t\t\t\t\t\tcustomOptions.id = surfaceName + "-" + surfaceAttributeNameMap[surfaceName][j] + "-options";\n\t\t\t\t\t\t\tcustomOptions.classList.add("sketchfab-options")\n\t\t\t\t\t\t\tcustomOptions.classList.add(surfaceName + "-options")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar selectTitle = document.createElement("h3")\n\t\t\t\t\t\t\tselectTitle.classList.add("sketchfab-title")\n\t\t\t\t\t\t\tselectTitle.textContent = surfaceName + " - " + surfaceAttributeNameMap[surfaceName][j];\n\t\t\t\t\t\t\tcustomOptions.appendChild(selectTitle)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tselect.appendChild(selectTrigger)\n\t\t\t\t\t\t\tselect.appendChild(customOptions)\n\t\t\t\t\t\t\twrapper.appendChild(select)\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfor (var k=0; k<surfaceOptionMap[surfaceName][primaryInitialValue][j-1].length; ++k) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\t\tcustomOption.classList.add("sketchfab-option");\n\t\t\t\t\t\t\t\tif (k===0) {\n\t\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar name = surfaceOptionMap[surfaceName][primaryInitialValue][j-1][k]\n\t\t\t\t\t\t\t\tvar humanReadable = materialNameSegmentMap[name];\n\t\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\t\tcustomOption.id = name + "-" + surfaceName + "-" + j + "-" + k + "-" + i;\n\t\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', e => setNonPrimarySurfaceConfiguration(e, api))\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twrapper.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\t\tthis.querySelector(\'.sketchfab-select\').classList.toggle(\'sketchfab-select-open\');\t\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n};\n\nclient.init(uid, {\n\tsuccess: success,\n\terror: error,\n\tautostart: 0,\n\tpreload: 0,\n\tui_animations: 0,\n\tui_watermark: 0,\n\tui_inspector: 0,\n\tui_stop: 0,\n\tui_infos: 0,\n});\n\nvar configureMaterials = function(currentSurfaceName, currentElementName, api) {\n\t\t\t\t\t\t\t\n\t//get array of selected values\n\tvar relevantSelects = document.getElementsByClassName(currentSurfaceName + "-triggerSpan")\n\t\n\t//build name string via accessing selected values\n\tvar materialNameString = currentSurfaceName;\n\t\n\tfor (var k=0; k<relevantSelects.length; ++k) {\n\t\tmaterialNameString += "-" + relevantSelects[k].textContent;\n\t}\n\t\n\tvar newMaterial;\n\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\tif (myMaterials[k].name.startsWith(materialNameString)) {\n\t\t\tnewMaterial = JSON.parse(JSON.stringify(myMaterials[k]));\n\t\t}\n\t}\n\t\n\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\tif (myMaterials[k].name === currentSurfaceName) {\n\t\t\tmyMaterials[k].channels = JSON.parse(JSON.stringify(newMaterial.channels));\n\t\t\tmyMaterials[k].reflection = newMaterial.reflection;\n\t\t\tmyMaterials[k].reflector = newMaterial.reflector;\n\t\t\tmyMaterials[k].shadeless = newMaterial.shadeless;\n\t\t\tapi.setMaterial(myMaterials[k], function() {console.log("material updated")})\n\t\t}\n\t}\n}\n\nvar configureInitialSurfaces = function(api) {\n\t\n\tvar surfaceNames = Object.keys(surfaceOptionMap)\t\t\t\t\n\t\n\tfor (var i=0; i<surfaceNames.length; ++i) {\n\t\tvar currentSurfaceName = surfaceNames[i];\n\n\t\tvar firstPrimaryOption = Object.keys(surfaceOptionMap[currentSurfaceName])[0]\n\t\tvar optionsArray = surfaceOptionMap[currentSurfaceName][firstPrimaryOption]\n\t\tvar materialNameString = currentSurfaceName + "-" + firstPrimaryOption;\n\t\t\n\t\t\n\t\tfor (var k=0; k<optionsArray.length; ++k) {\n\t\t\tmaterialNameString += "-" + optionsArray[k][0];\n\t\t}\n\t\t\n\t\tvar newMaterial;\n\t\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\t\tif (myMaterials[k].name.startsWith(materialNameString)) {\n\t\t\t\tnewMaterial = JSON.parse(JSON.stringify(myMaterials[k]));\n\t\t\t}\n\t\t}\n\t\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\t\tif (myMaterials[k].name === currentSurfaceName) {\n\t\t\t\tmyMaterials[k].channels = JSON.parse(JSON.stringify(newMaterial.channels));\n\t\t\t\tmyMaterials[k].reflection = newMaterial.reflection;\n\t\t\t\tmyMaterials[k].reflector = newMaterial.reflector;\n\t\t\t\tmyMaterials[k].shadeless = newMaterial.shadeless;\n\t\t\t\tapi.setMaterial(myMaterials[k], function() {console.log("material updated")})\n\t\t\t}\n\t\t}\n\t}\t\t\t\n}\n\nvar setVisibleNodes = function(api) {\n\t\n\tvar allCategorySelects = document.querySelectorAll(".sketchfab-category span.sketchfab-select-value")\n\tvar selectedPrefixes = [];\n\t\n\tfor (var j=0; j<allCategorySelects.length; ++j) {\n\t\tselectedPrefixes.push(allCategorySelects[j].textContent);\n\t}\n\t\n\tvar allLetters = [];\n\tvar relevantNodes = [];\n\t\n\tfor (var j=0; j<sceneGraph.length; ++j) {\n\t\tvar indexContainingCodes = j;\n\t\tvar isMatrixTransform = false;\n\t\tif (sceneGraph[j].name === "MatrixTransform") {\n\t\t\tindexContainingCodes = j - 1;\n\t\t\tisMatrixTransform = true;\n\t\t}\n\t\t\n\t\tvar nodeNameArray = sceneGraph[indexContainingCodes].name.split("-")\n\t\tvar currentNodeDesignation = nodeNameArray[0];\n\t\tvar currentNodeLetterCode = nodeNameArray[1];\n\t\tapi.hide(sceneGraph[indexContainingCodes].instanceID);\n\t\tif(selectedPrefixes.includes("SGBCC")) {\n\t\t\tif (sceneGraph[indexContainingCodes].name == "JBXCC-C-Housing") {\n\t\t\t\tapi.show(sceneGraph[indexContainingCodes].instanceID)\t\t\t\t\t\t\t\t\t\t\n\t\t\t}\t\t\t\t\t\t\t\t\t\n\t\t}\t\t\n\t\t\n\t\tif (selectedPrefixes.includes(currentNodeDesignation)) {\n\t\t\tfor (var k=0; k<currentNodeLetterCode.length; ++k) {\n\t\t\t\tallLetters.push(currentNodeLetterCode[k]);\n\t\t\t\trelevantNodes.push({letterCode: currentNodeLetterCode[k], instanceID: sceneGraph[j].instanceID})\t\t\t\t\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\t\t\n\t\n\tvar commonLetter = mode(allLetters)[0]\n\t\n\tfor (var j=0; j<relevantNodes.length; ++j) {\n\t\tif (relevantNodes[j].letterCode.indexOf(commonLetter) != -1) {\n\t\t\tapi.show(relevantNodes[j].instanceID);\n\t\t}\n\t}\n}\n\nvar mode = function(arr) { \n\tif(arr.filter((x,index) => arr.indexOf(x) == index).length == arr.length) {\n\t\treturn arr; \n\t} else {\n\t\treturn mode(arr.sort((x,index)=>x-index).map((x,index)=>arr.indexOf(x)!=index ? x : null ).filter(x=>x!=null))\n\t}\t\t\n}\n\nvar setNonPrimarySurfaceConfiguration = function(e, api) {\n\thandleUpdateSelect(e);\n\tvar currentSurfaceName = e.target.id.split("-")[1]\n\tvar attributeIndex = e.target.id.split("-")[2]\n\tvar attributeName = surfaceAttributeNameMap[currentSurfaceName][attributeIndex]\n\tconfigureMaterials(currentSurfaceName, attributeName, api)\n}\n\nvar handleUpdateSelect = function(e) {\n\tvar nameCode = e.target.id.split("-")[0]\n\t\n\tif (!e.target.classList.contains(\'selected\')) {\n\t\t\n\t\te.target.parentNode.querySelector(\'.sketchfab-option.selected\').classList.remove(\'selected\');\n\t\te.target.classList.add(\'selected\');\n\t\te.target.closest(\'.sketchfab-select\').querySelector(\'.sketchfab-select__trigger span\').textContent = nameCode;\t\t\t\t\t\t\t\t\n\t}\n}\n\n\nvar handleHidingOptions = function(optionName="") {\n\tvar allCategoryOptions = document.querySelectorAll(".sketchfab-category .sketchfab-option")\n\tfor (var k=0; k<allCategoryOptions.length; ++k) {\n\t\tallCategoryOptions[k].style.visibility = "visible";\n\t}\n\t\n\tvar currentCategorySelections = Array.from(document.querySelectorAll(".sketchfab-category .sketchfab-select"))\n\t\t\t\t\t\t\t.filter(select => !select.classList.contains("sketchfab-select-open"))\n\t\t\t\t\t\t\t.map(select => select.querySelector(".sketchfab-select-value").textContent)\n\t\t\t\t\t\t\t\n\tcurrentCategorySelections.push(optionName)\n\t\n\tfor (var k=0; k<currentCategorySelections.length; ++k) {\n\t\tvar selectionName = currentCategorySelections[k];\n\t\tif (hiddenCategoryConfigurations[selectionName] !== undefined) {\n\t\t\tfor (var l=0; l<hiddenCategoryConfigurations[selectionName].length; ++l) {\n\t\t\t\tvar nameToHide = hiddenCategoryConfigurations[selectionName][l]\n\t\t\t\tvar optionToHide = document.querySelector("[data-value=\'" + nameToHide + "\']")\n\t\t\t\toptionToHide.style.visibility = "hidden"\t\t\t\t\t\t\t\t\t\t\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nvar disableAnimations = function() {\t\t\n\tvar allCategorySelects = document.querySelectorAll(".sketchfab-category span.sketchfab-select-value")\n\tvar allowAnimations = true;\n\tfor (var k=0; k<allCategorySelects.length; ++k) {\n\t\tvar controlIndex = allCategorySelects[k].id.split("-")[1]\n\t\tvar currentNameCode = allCategorySelects[k].textContent;\n\t\tif (controls[controlIndex].configuration.allowsAnimation.indexOf(currentNameCode) == -1) {\n\t\t\tallowAnimations = false;\n\t\t}\n\t}\n\tvar animationButtons = document.querySelectorAll("#sketchfab-animation-buttons button")\n\tfor (var k=0; k<animationButtons.length; ++k) {\n\t\tanimationButtons[k].disabled = true;\n\t}\n\tif (allowAnimations) {\n\t\tfor (var k=0; k<animationButtons.length; ++k) {\n\t\t\tanimationButtons[k].disabled = false;\n\t\t}\t\t\t\t\t\t\n\t}\n}\n\nvar generateSelect = function(controlIndex) {\n\t\t\t\t\t\n\tvar wrapper = document.createElement("div")\n\twrapper.classList.add("sketchfab-select-wrapper")\n\twrapper.classList.add("sketchfab-category")\n\twrapper.style.width = (appWidth/4) + "px";\n\t\n\tvar select = document.createElement("div")\n\tselect.classList.add("sketchfab-select")\n\t\n\tvar selectTrigger = document.createElement("div")\n\tselectTrigger.classList.add("sketchfab-select__trigger")\n\t\n\tvar triggerSpan = document.createElement("span")\n\ttriggerSpan.textContent = Object.keys(controls[controlIndex].configuration.designations)[0]\n\ttriggerSpan.id = "triggerSpan-" + controlIndex;\n\ttriggerSpan.classList.add("sketchfab-select-value")\n\tselectTrigger.appendChild(triggerSpan)\n\t\n\tvar arrow = document.createElement("div")\n\tarrow.classList.add("sketchfab-select-arrow")\n\tselectTrigger.appendChild(arrow)\t\t\t\t\t\n\tselect.appendChild(selectTrigger)\n\t\n\tvar customOptions = document.createElement("div")\n\tcustomOptions.classList.add("sketchfab-options")\n\tvar selectTitle = document.createElement("h3")\n\tselectTitle.classList.add("sketchfab-title")\n\tselectTitle.textContent = controls[controlIndex].name;\n\tcustomOptions.appendChild(selectTitle)\n\tselect.appendChild(customOptions)\n\twrapper.appendChild(select)\t\n\n\twrapper.addEventListener(\'click\', function() {\n\t\tthis.querySelector(\'.sketchfab-select\').classList.toggle(\'sketchfab-select-open\');\t\n\t})\n\n\tcategorySelectObserver.observe(triggerSpan, {characterData: false, childList: true, attributes: false});\n\t\n\treturn wrapper;\n}\n\nvar generateSurfaceSelect = function(surfaceName, surfaceIndex, attributeIndex) {\n\tvar wrapper = document.createElement("div")\n\twrapper.classList.add("sketchfab-select-wrapper")\n\t\n\twrapper.style.width = (appWidth/4) + "px";\n\t\n\tvar select = document.createElement("div")\n\tselect.classList.add("sketchfab-select")\n\tvar selectTrigger = document.createElement("div")\n\tselectTrigger.classList.add("sketchfab-select__trigger")\n\tvar triggerSpan = document.createElement("span")\n\ttriggerSpan.id = "primarySurfaceElement-" + surfaceName;\n\ttriggerSpan.textContent = Object.keys(surfaceOptionMap[surfaceName])[0]\n\ttriggerSpan.id = "triggerSpan-" + surfaceIndex;\n\ttriggerSpan.classList.add(surfaceName + "-triggerSpan")\n\tselectTrigger.appendChild(triggerSpan)\n\tvar arrow = document.createElement("div")\n\tarrow.classList.add("sketchfab-select-arrow")\n\tselectTrigger.appendChild(arrow)\n\t\n\tvar customOptions = document.createElement("div")\n\tcustomOptions.classList.add("sketchfab-options")\n\tvar selectTitle = document.createElement("h3")\n\tselectTitle.classList.add("sketchfab-title")\n\tselectTitle.textContent = surfaceName + " - " + surfaceAttributeNameMap[surfaceName][attributeIndex];\n\tcustomOptions.appendChild(selectTitle)\n\t\n\tselect.appendChild(selectTrigger)\n\tselect.appendChild(customOptions)\n\twrapper.appendChild(select)\t\n\n\twrapper.addEventListener(\'click\', function() {\n\t\tthis.querySelector(\'.sketchfab-select\').classList.toggle(\'sketchfab-select-open\');\t\n\t})\n\t\n\treturn wrapper;\n}\n\n')},at=function(){var t=Object(c.b)();return Object(a.jsx)("div",{id:"control-choice-modal",children:Object(a.jsxs)("div",{className:"control-choice-content",children:[Object(a.jsx)("div",{className:"control-choice",onClick:function(){t(f("color")),t(W())},children:"Color"}),Object(a.jsx)("div",{className:"control-choice",onClick:function(){t(f("toggle")),t(W())},children:"Toggle"}),Object(a.jsx)("div",{className:"control-choice",onClick:function(){t(f("category")),t(W())},children:"Element Category"}),Object(a.jsx)("div",{className:"control-choice",onClick:function(){t(f("surfaceConfiguration")),t(W())},children:"Surface Configuration"}),Object(a.jsx)("div",{className:"control-choice",onClick:function(){t(f("animation")),t(W())},children:"Animation"})]})})},it=n(14),rt=n.n(it),ot=function(t){var e=Object(c.b)(),n=t.option,i=Object(c.c)(T);return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"input__container",children:[Object(a.jsx)("label",{htmlFor:"materials",children:"Material:"}),ct(n,i,e)]}),Object(a.jsx)("div",{className:"additional-color__container",id:"".concat(n.id,"-additionalColors"),children:st(n.id,n.additionalColors,e)}),Object(a.jsx)("div",{className:"input__container",children:Object(a.jsx)("button",{id:"addColor",className:"add__button",onClick:function(){if(void 0==n.additionalColors||null==n.additionalColors){var t={id:n.id,key:"additionalColors",value:[{color:"#ffffff",name:"white",colorRGB:[1,1,1]}]};e(h(t))}else{for(var a=[],i=0;i<n.additionalColors.length;++i)a[i]=n.additionalColors[i];a.push({color:"#ffffff",name:"default",colorRGB:[1,1,1]}),e(h({id:n.id,key:"additionalColors",value:a}))}},children:"+ Add Color"})})]})},st=function(t,e,n){return null==e||void 0==e?Object(a.jsx)("div",{}):e.map((function(i,r,o){return Object(a.jsxs)("div",{className:"input__container",children:[Object(a.jsx)("label",{htmlFor:"defaultColor",children:"Alternate Color:"}),Object(a.jsx)("input",{type:"color",name:"additionalColor",id:"".concat(t,"-").concat(r,"-additionalColor"),value:e[r].color,onChange:function(e){for(var a=[],i=0;i<o.length;++i){var s={};i===r?(s.color=e.target.value,s.colorRGB=rt()(e.target.value,{format:"array"}).map((function(t){return t/255})),s.name=o[i].name):(s.color=o[i].color,s.colorRGB=o[i].colorRGB,s.name=o[i].name),a[i]=s}n(h({id:t,key:"additionalColors",value:a}))}}),Object(a.jsx)("input",{type:"text",value:e[r].name,onChange:function(e){for(var a=[],i=0;i<o.length;++i){var s={};i===r?(s.color=o[i].color,s.colorRGB=o[i].colorRGB,s.name=e.target.value):(s.color=o[i].color,s.colorRGB=o[i].colorRGB,s.name=o[i].name),a[i]=s}n(h({id:t,key:"additionalColors",value:a}))}})]})}))},ct=function(t,e,n){var i=e.map((function(t,e){return Object(a.jsx)("option",{value:e,children:t.name})}));return i.unshift(Object(a.jsx)("option",{value:"none",children:"Select a Material"})),Object(a.jsx)("select",{name:"materials",id:"materials",onChange:function(a){n(h({id:t.id,key:"entityIndex",value:a.target.value})),n(h({id:t.id,key:"entity",value:e[a.target.value]}))},value:t.entityIndex,children:i})},lt=function(t){var e=Object(c.b)(),n=t.option,i=Object(c.c)(D).map((function(t){return Object(a.jsxs)("option",{value:t.instanceID,children:[dt(t.depth),t.name]})}));return i.unshift(Object(a.jsx)("option",{value:0,children:"Select a Node"})),Object(a.jsx)("select",{name:"nodes",id:"nodes",className:"material__select",value:n.entity.instanceID,onChange:function(t){return e(h({id:n.id,key:"entity",value:{instanceID:t.target.value}}))},children:i})},dt=function(t){for(var e="",n=0;n<t;++n)e+="--";return e},ut=function(t){var e=Object(c.b)(),n=t.option,i=Object(c.c)(U),r=Object(c.c)(F),o=function(t){var o=i[t].designation,s=void 0!=n.configuration.designations[o],c=i.filter((function(t){return!t.isAvailable&&void 0==n.configuration.designations[t.designation]}));if(s&&c.length>0)return console.log("otherSelectedElements:"),console.log(c),Object(a.jsxs)("div",{style:{textAlign:"left",marginLeft:16},children:[Object(a.jsx)("div",{style:{marginLeft:4},children:"Disable when selected:"}),c.map((function(t){var n=!1;return void 0!=r[o]&&r[o].includes(t.designation)&&(n=!0),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{type:"checkbox",checked:n,onChange:function(){var a=JSON.parse(JSON.stringify(r));n?(a[o]=a[o].filter((function(e){return e.designation!=t.designation})),a[t.designation]=a[o].filter((function(t){return t.designation!=o}))):(void 0===a[o]&&(a[o]=[]),a[o].push(t.designation),void 0===a[t.designation]&&(a[t.designation]=[]),a[t.designation].push(o)),e(C(a))}}),Object(a.jsx)("div",{children:t.designation})]})}))]})};return Object(a.jsx)("div",{className:"grouping__container",children:Object(a.jsx)("div",{className:"additional-color__container",id:"".concat(n.id,"-additionalColors"),children:i.map((function(t,r){var s=void 0!=n.configuration.designations[t.designation];return t.isAvailable||s?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsxs)("div",{style:{display:"flex",flex:"1 1 auto"},children:[Object(a.jsx)("input",{type:"checkbox",checked:s,onChange:function(){var a=JSON.parse(JSON.stringify(i)),o=JSON.parse(JSON.stringify(n.configuration.designations)),s={};if(void 0!=o[t.designation])delete o[t.designation],s={designations:o,allowsAnimation:n.configuration.allowsAnimation.filter((function(e){return e!=t.designation}))},a[r].isAvailable=!0;else{o[t.designation]="";var c=n.configuration.allowsAnimation.map((function(t){return t}));c.push(t.designation),s={designations:o,allowsAnimation:c},a[r].isAvailable=!1}e(O(a)),e(h({id:n.id,key:"configuration",value:s}))}}),Object(a.jsx)("div",{children:t.designation})]}),Object(a.jsx)("div",{children:"Animation:"}),Object(a.jsx)("input",{type:"checkbox",checked:n.configuration.allowsAnimation.includes(t.designation),disabled:void 0==n.configuration.designations[t.designation],onChange:function(){var a={},i=JSON.parse(JSON.stringify(n.configuration.designations));if(n.configuration.allowsAnimation.includes(t.designation))a={designations:i,allowsAnimation:n.configuration.allowsAnimation.filter((function(e){return e!=t.designation}))};else{var r=n.configuration.allowsAnimation.map((function(t){return t}));r.push(t.designation),a={designations:i,allowsAnimation:r}}e(h({id:n.id,key:"configuration",value:a}))}})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{children:"Readable Name:"}),Object(a.jsx)("input",{type:"text",placeholder:"Enter human readable name",disabled:void 0==n.configuration.designations[t.designation],value:n.configuration.designations[t.designation],onChange:function(a){var i=JSON.parse(JSON.stringify(n.configuration.designations));i[t.designation]=a.target.value;var r={designations:i,allowsAnimation:n.configuration.allowsAnimation.map((function(t){return t}))};e(h({id:n.id,key:"configuration",value:r}))}})]}),o(r)]},"element-".concat(n.id,"-").concat(r)):null}))})})},mt=function(){var t=Object(c.b)(),e=Object(c.c)(H),n=Object(c.c)(V);t(x(!0));var i=function(e){return n[e].map((function(i,r){return Object(a.jsxs)("div",{children:["Attribute ",r,Object(a.jsx)("input",{value:i,onChange:function(a){var i=JSON.parse(JSON.stringify(n));i[e][r]=a.target.value,t(S(i))}})]})}))};return Object(a.jsxs)("div",{className:"grouping__container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Surfaces & Attributes"}),Object.keys(n).map((function(t){return Object(a.jsxs)("div",{children:[t,i(t)]})}))]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Code Name Map:"}),Object.keys(e).map((function(n){return Object(a.jsxs)("div",{children:[n,Object(a.jsx)("input",{value:e[n],onChange:function(a){var i=JSON.parse(JSON.stringify(e));i[n]=a.target.value,t(N(i))}})]})}))]})]})},pt=n(4),ft=function(t){var e=Object(c.b)(),n=t.option,i=Object(c.c)(L).map((function(t){return Object(a.jsx)("option",{value:t[0],children:t[1]})}));return i.unshift(Object(a.jsx)("option",{value:"none",children:"Select an Animation"})),Object(a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Animation:"}),Object(a.jsx)("select",{name:"animationSelect",value:n.configuration.animationUID,onChange:function(t){var a=Object(pt.a)(Object(pt.a)({},n.configuration),{},{animationUID:t.target.value});e(h({id:n.id,key:"configuration",value:a}))},children:i})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"start",children:"Start Time:"}),Object(a.jsx)("input",{type:"number",name:"start",value:n.configuration.startTime,onChange:function(t){var a=Object(pt.a)(Object(pt.a)({},n.configuration),{},{startTime:t.target.value});e(h({id:n.id,key:"configuration",value:a}))}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"end",children:"End Time:"}),Object(a.jsx)("input",{type:"number",name:"end",value:n.configuration.endTime,onChange:function(t){var a=Object(pt.a)(Object(pt.a)({},n.configuration),{},{endTime:t.target.value});e(h({id:n.id,key:"configuration",value:a}))}})]})]})},gt=n(15),ht=function(){var t=Object(c.c)(B),e=Object(c.c)(_),n=Object(c.b)(),i=function(t){return"color"===t.type?Object(a.jsx)(ot,{option:t}):"toggle"===t.type?Object(a.jsx)(lt,{option:t}):"animation"===t.type?Object(a.jsx)(ft,{option:t}):"category"===t.type?Object(a.jsx)(ut,{option:t}):"surfaceConfiguration"===t.type?Object(a.jsx)(mt,{}):void 0};return Object(a.jsxs)("div",{style:{overflow:"auto",display:"flex",flexDirection:"column"},children:[Object(a.jsx)("button",{className:"add-option add__button",disabled:e,onClick:function(){return n(W())},children:"+ Add Option"}),Object(a.jsx)("div",{className:"single-option__panels__container",children:Object(a.jsx)(gt.ReactSortable,{list:t,setList:function(t){return n(v(t))},children:function(t,e){return t.map((function(t,n,r){return Object(a.jsxs)("div",{className:"single-option__panel",children:[Object(a.jsxs)("div",{className:"single-option__header",children:[Object(a.jsxs)("h3",{className:"single-option__title",children:[t.id,". ",t.type]}),Object(a.jsx)("button",{id:"collapseButton".concat(t.id),className:"collapse__button",onClick:function(n){return e(h({id:t.id,key:"isExpanded",value:!t.isExpanded}))},children:t.isExpanded?"Collapse":"Expand"}),Object(a.jsx)("button",{title:"Remove option",onClick:function(){var n=r.filter((function(e){return e.id!==t.id}));e(v(n))},children:Object(a.jsx)("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"},children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"m15.9 30.7v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 \r 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.7 0v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 \r 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.8 \r 0v-15.7q0-0.3-0.2-0.5t-0.6-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 \r 0.2h1.4q0.4 0 0.6-0.2t0.2-0.5z m-12.2-22.1h10l-1.1-2.6q-0.1-0.2-0.3-0.3h-7.1q-0.2 \r 0.1-0.4 0.3z m20.7 0.7v1.4q0 0.3-0.2 0.5t-0.5 0.2h-2.1v21.2q0 1.8-1.1 3.2t-2.5 \r 1.3h-18.6q-1.4 0-2.5-1.3t-1-3.1v-21.3h-2.2q-0.3 0-0.5-0.2t-0.2-0.5v-1.4q0-0.3 \r 0.2-0.5t0.5-0.2h6.9l1.6-3.8q0.3-0.8 1.2-1.4t1.7-0.5h7.2q0.9 0 1.8 0.5t1.2 1.4l1.5 \r 3.8h6.9q0.3 0 0.5 0.2t0.2 0.5z"})})})})]}),Object(a.jsxs)("div",{style:{display:t.isExpanded?"block":"none"},children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("p",{className:"nameFieldTitle",children:"Name:"}),Object(a.jsx)("input",{type:"text",name:"colorName",id:"colorName",value:t.name,onChange:function(n){return e(h({id:t.id,key:"name",value:n.target.value}))}})]}),i(t)]})]},"option-".concat(n))}))}(t,n)})})]})},vt=function(){var t=Object(c.b)(),e=Object(c.c)(D),n=Object(c.c)(G),i=Object(c.c)(q),r=e.map((function(e){return Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("input",{id:e.instanceID,type:"checkbox",checked:i[e.instanceID],onChange:function(e){e.target.checked?(n.show(e.target.id),t(j({id:e.target.id,value:!0}))):(n.hide(e.target.id),t(j({id:e.target.id,value:!1})))}}),Object(a.jsxs)("div",{className:"node-name",children:[bt(e.depth),e.name]})]})}));return r.unshift(Object(a.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid black"},children:[Object(a.jsx)("input",{type:"checkbox",checked:Object.values(i).reduce((function(t,e){return t&&e})),onChange:function(e){t(M(e.target.checked))}}),Object(a.jsx)("div",{className:"node-name",children:"All Nodes"})]})),Object(a.jsxs)("div",{style:{overflow:"auto"},children:[Object(a.jsx)("div",{id:"nodeControls",children:r}),Object(a.jsx)("div",{id:"animationControls"})]})},bt=function(t){for(var e="",n=0;n<t;++n)e+="--";return e},jt=function(){var t=Object(c.b)(),e=Object(c.c)(P),n=Object(c.c)(_),i={backgroundColor:"nodes"==e?"white":"gray"},r={backgroundColor:"options"==e?"white":"gray"};return Object(a.jsxs)("div",{className:"control-menu",children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("button",{className:"control-menu__button",style:i,disabled:n,onClick:function(){return t(y("nodes"))},children:"Nodes"}),Object(a.jsx)("button",{className:"control-menu__button",style:r,onClick:function(){return t(y("options"))},children:"Options"})]}),function(t){return"options"===t?Object(a.jsx)(ht,{}):"nodes"===t?Object(a.jsx)(vt,{}):void 0}(e)]})};n(31),n(32);var yt=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Q,{}),Object(a.jsxs)("div",{className:"body",children:[Object(a.jsx)(tt,{}),Object(a.jsx)(jt,{}),Object(a.jsx)(et,{}),Object(a.jsx)(at,{})]})]})},Ot=Object(l.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),Ct=Ot.actions,kt=(Ct.increment,Ct.decrement,Ct.incrementByAmount,Ot.reducer),xt=n(16),Nt=n.n(xt),St=Object(l.a)({reducer:{counter:kt,viewer:X},middleware:function(t){return t().concat(Nt.a)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(c.a,{store:St,children:Object(a.jsx)(yt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.e5df555e.chunk.js.map