(this["webpackJsonpsketchfab-configurator-studio"]=this["webpackJsonpsketchfab-configurator-studio"]||[]).push([[0],{22:function(t,e,n){},31:function(t,e,n){},32:function(t,e){window.onclick=function(t){var e=document.getElementById("modal");t.target==e&&(e.style.display="none")}},33:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n(1),r=n.n(a),o=n(6),s=n.n(o),c=(n(22),n(2)),l=n(5),d={modelId:"",materials:[],animations:[],sceneGraph:[],controls:[],disableButtons:!0,latestControlId:0,sketchfabAPI:null,sceneGraphIsVisible:{},viewMode:"options",surfaceOptionMap:{},surfaceConfigurationMode:!1,materialNameSegmentMap:{},surfaceAttributeNameMap:{},groupingOptions:[]},u=Object(l.b)({name:"viewer",initialState:d,reducers:{resetState:function(t){d},setSketchfabAPI:function(t,e){t.sketchfabAPI=e.payload},setModelId:function(t,e){t.modelId=e.payload},setMaterials:function(t,e){t.materials=e.payload},setAnimations:function(t,e){t.animations=e.payload},setSceneGraph:function(t,e){z(t,e.payload.children,0)},setSceneGraphIsVisible:function(t,e){var n=e.payload,i=n.id,a=n.value;t.sceneGraphIsVisible[i]=a},createControl:function(t,e){t.latestControlId=t.latestControlId+=1;var n=t.latestControlId,i={};"animation"===e.payload&&(i={animationUID:"none",startTime:"0",endTime:"0"}),"category"===e.payload&&(i={isPrimary:!1,designations:{},allowsAnimation:[]}),t.controls.unshift({type:e.payload,id:n,name:e.payload,entityIndex:"none",entity:{instanceID:0},configuration:i,isExpanded:!0})},setViewMode:function(t,e){t.viewMode=e.payload},setControls:function(t,e){t.controls=e.payload},toggleDisableButtons:function(t){t.disableButtons=!1},updateControl:function(t,e){var n=e.payload,i=n.id,a=n.key,r=n.value;console.log(e.payload);for(var o=0;o<t.controls.length;++o)t.controls[o].id==i&&(t.controls[o][a]=r)},setSurfaceOptionMap:function(t,e){console.log("setSurfaceOptionMap -> action.payload"),console.log(e.payload),t.surfaceOptionMap=e.payload},setSurfaceConfigurationMode:function(t,e){t.surfaceConfigurationMode=e.payload},setMaterialNameSegmentMap:function(t,e){console.log("setMaterialNameSegmentMap -> action.payload:"),console.log(e.payload),t.materialNameSegmentMap=e.payload},setSurfaceAttributeNameMap:function(t,e){t.surfaceAttributeNameMap=e.payload},setGroupingOptions:function(t,e){t.groupingOptions=e.payload},setAllNodesVisible:function(t,e){for(var n=0;n<Object.keys(t.sceneGraphIsVisible).length;++n)e.payload?t.sketchfabAPI.show(Object.keys(t.sceneGraphIsVisible)[n]):t.sketchfabAPI.hide(Object.keys(t.sceneGraphIsVisible)[n]),t.sceneGraphIsVisible[Object.keys(t.sceneGraphIsVisible)[n]]=e.payload}}}),m=u.actions,p=(m.resetState,m.setModelId),f=m.createControl,g=m.toggleDisableButtons,v=m.updateControl,h=m.setControls,b=m.setSceneGraph,j=m.setSceneGraphIsVisible,y=m.setViewMode,O=m.setGroupingOptions,C=m.setSurfaceOptionMap,x=m.setSurfaceConfigurationMode,N=m.setMaterialNameSegmentMap,k=m.setSurfaceAttributeNameMap,S=m.setAllNodesVisible,M=m.setAnimations,w=m.setMaterials,I=m.setSketchfabAPI,A=function(t){return t.viewer.modelId},L=function(t){return t.viewer.materials},E=function(t){return t.viewer.animations},B=function(t){return t.viewer.controls},T=function(t){return t.viewer.disableButtons},_=function(t){return t.viewer.sceneGraph},D=function(t){return t.viewer.sketchfabAPI},P=function(t){return t.viewer.sceneGraphIsVisible},G=function(t){return t.viewer.viewMode},q=function(t){return t.viewer.surfaceOptionMap},R=function(t){return t.viewer.surfaceConfigurationMode},J=function(t){return t.viewer.materialNameSegmentMap},V=function(t){return t.viewer.surfaceAttributeNameMap},H=function(t){return t.viewer.groupingOptions},F=function(){return function(t){var e=document.getElementById("modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},U=function(){return function(t){var e=document.getElementById("control-choice-modal"),n=e.style.display;e.style.display="block"===n?"none":"block"}},z=function t(e,n,i){for(var a=0;a<n.length;++a)"Group"!=n[a].type&&"RootNode"!=n[a].name&&(void 0==n[a].name?e.sceneGraph.push({name:n[a].type,depth:i,instanceID:n[a].instanceID,materialID:n[a].materialID}):e.sceneGraph.push({name:n[a].name,depth:i,instanceID:n[a].instanceID,materialID:n[a].materialID})),e.sceneGraphIsVisible[n[a].instanceID]=!0,void 0==n[a].children&&null==n[a].children||t(e,n[a].children,i+1)},W=u.reducer,Z=n(13),Y=n.n(Z),$=function(){var t=Object(c.c)(A),e=Object(c.c)(T),n=Object(c.b)();return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("h1",{className:"header__title",children:"Configurator Studio"}),Object(i.jsxs)("div",{className:"header__buttons",children:[Object(i.jsx)("input",{id:"model-id-input",value:t,onChange:function(t){return n(p(t.target.value))}}),Object(i.jsx)("button",{id:"displayButton",className:"header__button",onClick:function(){return n(function(t){return function(e){e(h([]));var n,i,a,r,o,s,c=document.getElementById("api-frame"),l=[];r=function(){a.getCurrentTime((function(t,e){if(!n){var i=100*e/o;s.value=i,document.getElementById("timeDisplay").innerHTML=e.toFixed(2),2==e&&a.seekTo(1),requestAnimationFrame(r)}}))},{api:null,config:null,options:[],init:function(t,c){this.config=t,new Y.a("1.8.2",c).init(t.urlid,{ui_controls:0,graph_optimizer:0,ui_animations:0,ui_watermark:0,ui_inspector:0,ui_stop:0,ui_infos:0,success:function(t){document.getElementById("animationControls").innerHTML='\n                        <div style="display: flex; justify-content: center;">\n                          <p id="timeDisplay"></p>\n                          <p id="animationName" style="margin-left: 50px;"></p>\n                        </div>\n                        <button id="play">Play</button>\n                        <button id="pause">Pause</button>\n                        <button id="previous">Previous</button>\n                        <button id="next">Next</button>\n                        <input \n                          id="timeSlider" \n                          class="slider timeSlider" \n                          style="width:100%" \n                          type="range" \n                          min="0" \n                          max="100" \n                          step="0.1" \n                          value="0"\n                        />\n                    ',a=t,e(I(t)),t.start(),t.addEventListener("viewerready",function(){this.api=t,t.pause(),t.getAnimations((function(a,c){l=c,e(M(c)),0==c.length?document.getElementById("animationControls").innerHTML="":(document.getElementById("pause").addEventListener("click",(function(){t.pause()})),document.getElementById("play").addEventListener("click",(function(){t.play()})),document.getElementById("previous").addEventListener("click",(function(){0===i&&(i=l.length),i--,t.setCurrentAnimationByUID(l[i][0]),t.seekTo(0),o=l[i][2],document.getElementById("animationName").innerHTML=l[i][1]})),document.getElementById("next").addEventListener("click",(function(){++i===l.length&&(i=0),t.setCurrentAnimationByUID(l[i][0]),t.seekTo(0),o=l[i][2],document.getElementById("animationName").innerHTML=l[i][1]})),document.getElementById("animationName").innerHTML=l[0][1],i=0,t.setCurrentAnimationByUID(c[i][0]),o=c[i][2],n=!1,(s=document.getElementById("timeSlider")).addEventListener("change",(function(){n=!1;var t=o*s.value/100;document.getElementById("timeDisplay").innerHTML=t.toFixed(2)})),s.addEventListener("input",(function(){n=!0;var e=o*s.value/100;document.getElementById("timeDisplay").innerHTML=e.toFixed(2),t.pause(),t.seekTo(e)})),r())})),e(g()),t.getSceneGraph((function(t,n){t?console.log("Error getting nodes"):e(b(n))})),t.getMaterialList((function(t,n){e(w(n));for(var i={},a={},r={},o=0;o<n.length;++o)if(null!==n[o].name.match(/[a-zA-Z]*-[A-Z]+-[a-zA-Z]+/g)){for(var s=n[o].name.split("-").filter((function(t){return""!=t}))[0],c=n[o].name.match(/[A-Z]+-/g).map((function(t){return t.replace("-","")})),l=c[0],d=0;d<c.length;++d)a[c[d]]=c[d];if(console.log("\n\nmaterialNameSegmentMap"),console.log(a),void 0===i[s]){i[s]={},r[s]=["Attribute Name"],i[s][c[0]]=[];for(var u=1;u<c.length;++u)r[s].push("Attribute Name"),i[s][l].push([c[u]])}else if(void 0===i[s][l]){i[s][l]=[];for(var m=1;m<c.length;++m)i[s][l].push([c[m]])}else for(var p=1;p<c.length;++p){var f=i[s][l][p-1];-1===f.indexOf(c[p])&&f.push(c[p])}}e(N(a)),e(C(i)),e(k(r))}))}.bind(this))}.bind(this),error:function(){console.log("Viewer error")}})}}.init({urlid:""!==t?t:"f373c5bab8e7489fa12db2071471fe4e",prefix:"seat "},c)}}(t))},children:"Load Model"}),Object(i.jsx)("button",{id:"export-javascript",className:"header__button",disabled:e,onClick:function(){return n(F())},children:"Export"})]})]})},K=function(){return Object(i.jsxs)("div",{class:"viewer",children:[Object(i.jsx)("iframe",{src:"",id:"api-frame",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true"}),Object(i.jsx)("div",{id:"animationControls"})]})},Q=function(){var t=Object(c.b)(),e={controls:Object(c.c)(B),modelId:Object(c.c)(A),sceneGraph:Object(c.c)(_),surfaceOptionMap:Object(c.c)(q),surfaceConfigurationMode:Object(c.c)(R),materialNameSegmentMap:Object(c.c)(J),surfaceAttributeNameMap:Object(c.c)(V),groupingOptions:Object(c.c)(H)};return Object(i.jsx)("div",{id:"modal",children:Object(i.jsxs)("div",{className:"modal__content",children:[Object(i.jsx)("span",{class:"close",onClick:function(){return t(F())},children:"\xd7"}),Object(i.jsx)("div",{className:"modal__header",children:Object(i.jsx)("h1",{children:"Add This To Your Page"})}),Object(i.jsx)("textarea",{id:"js-output",value:X(e)})]})})},X=function(t){var e=t.controls,n=t.modelId,i=t.sceneGraph,a=t.surfaceOptionMap,r=t.surfaceConfigurationMode,o=t.materialNameSegmentMap,s=t.surfaceAttributeNameMap,c=t.groupingOptions;return"\n// Sketchfab Viewer API: Change Texture/material\nvar version = '1.8.2';\nvar uid = '".concat(""===n?"f373c5bab8e7489fa12db2071471fe4e":n,"';\nvar iframe = document.getElementById('api-frame');\nvar client = new window.Sketchfab(version, iframe);\n\nvar myMaterials;\n\nvar error = function() {\n\tconsole.error('Sketchfab API error');\n};\n\nvar controls = ").concat(JSON.stringify(e),"\n\nvar sceneGraph = ").concat(JSON.stringify(i),"\n\nvar groupingOptions = ").concat(JSON.stringify(c),"\n\nvar surfaceConfigurationMode = ").concat(r,";\nvar surfaceOptionMap = ").concat(JSON.stringify(a),";\nvar materialNameSegmentMap = ").concat(JSON.stringify(o),";\nvar surfaceAttributeNameMap = ").concat(JSON.stringify(s),';\n\nvar animationObjects = {};\n\nvar controlsContainer = document.getElementById(\'controls\');\nvar toggleableItems = {};\nvar toggleableGroups = {};\n\nvar nameArrays = [];\nvar currentAnimation = "";\nvar currentAnimationEndTime = 0;\nvar isElementCategoryControlled = false;\nvar firstGroupingControlIndex = -1;\nvar appContainer = document.querySelector(".app")\n\nvar appWidth = Number(appContainer.style.width.replace("px",""))\n\nvar appContainer = document.querySelector("div.app")\nappContainer.style.display = "block"\n\nvar apiSkfb, pollTime;\n\nvar buildNodeNameArray = function(children, depth) {\n\tfor (let i=0; i<children.length; ++i) {\n\t\tif(children[i].name == undefined) {\n\t\t\tnameArrays.push({name: children[i].type, depth: depth, instanceID: children[i].instanceID});\n\t\t} else {\n\t\t\tnameArrays.push({name: children[i].name, depth: depth, instanceID: children[i].instanceID});\n\t\t}\n\t\tif (children[i].children != undefined || children[i].children != null) {\t\t\t\n\t\t\tbuildNodeNameArray(children[i].children, depth+1);\n\t\t}\n\t}\n}\n\nvar apiSkfb, pollTime;\n\n\npollTime = function() {\n\tapiSkfb.getCurrentTime(function(err, time) {\n\t\t\n\t\tif (currentAnimationEndTime > 0 && time >= currentAnimationEndTime) {\n\t\t\tapiSkfb.pause();\n\t\t}\n\t\trequestAnimationFrame(pollTime);\n\t});\n};\n\nvar globalTestMaterialID = "";\nvar success = function(api) {\n    apiSkfb = api;\n\tapi.start(function() {\n\t\tapi.addEventListener(\'viewerready\', function() {\n\t\t\tapi.pause();\n            api.getSceneGraph(function(err, result) {\n                if (err) {\n                    console.log(\'Error getting nodes\');\n                    return;\n                }\n\t\t\t\tbuildNodeNameArray(result.children, 0);\n\t\t\t\tconsole.log("sceneGraph[0]:")\n\t\t\t\tconsole.log(result);\n            });\n\t\t\t\n\t\t\tapi.getMaterialList(function(err, materials) {\n\t\t\t\tmyMaterials = materials;\n\t\t\t\tif (surfaceConfigurationMode) {\n\t\t\t\t\tconfigureInitialSurfaces(api)\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tvar animations = [];\n\t\t\tfor (let i = 0; i < controls.length; ++i) {\t\n\t\t\t\tif (controls[i].type == "animation") {\n\t\t\t\t\tvar animationControls = document.getElementById("animation-controls")\n\t\t\t\t\tanimationControls.style.display = "block";\n\t\t\t\t\t\n\t\t\t\t\tvar animationButtonContainer = document.getElementById("animation-buttons")\n\t\t\t\t\tvar animationButton = document.createElement("button")\n\t\t\t\t\tanimationButton.id = "animation-" + controls[i].id\n\t\t\t\t\tanimationButton.textContent = controls[i].name;\n\t\t\t\t\tanimationButton.addEventListener(\'click\', function(e) {\n\t\t\t\t\t\tvar animationId = e.target.id.split("-")[1]\n\t\t\t\t\t\tvar startTime = animationObjects[animationId].startTime;\n\t\t\t\t\t\tvar endTime = animationObjects[animationId].endTime;\n\t\t\t\t\t\tvar animationUID = animationObjects[animationId].uid;\n\t\t\t\t\t\tcurrentAnimationEndTime = endTime;\n\t\t\t\t\t\tapi.setCurrentAnimationByUID(animationUID);\n\t\t\t\t\t\tapi.seekTo(startTime);\n\t\t\t\t\t\tapi.play();\n\t\t\t\t\t})\n\t\t\t\t\tanimationButtonContainer.appendChild(animationButton)\n\t\t\t\t\t\n\t\t\t\t\tanimations.push(controls[i]);\n\t\t\t\t\tanimationObjects[controls[i].id] = {name: controls[i].name, startTime: Number(controls[i].configuration.startTime), endTime: Number(controls[i].configuration.endTime), uid: controls[i].configuration.animationUID}; \n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (controls[i].type == "surfaceConfiguration") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\tsingleControlContainer.classList.add("single-control-container");\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tif (controls[i].type == "color") {\n\t\t\t\t\tvar resetBut = document.createElement("button");\n\t\t\t\t\tresetBut.innerHTML = "Reset";\n\t\t\t\t\tresetBut.onclick = function(e) {\t\n\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\tm = JSON.parse(JSON.stringify(controls[i].entity));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(resetBut);\n\t\t\t\t\t\n\t\t\t\t\tfor (let j = 0; j < controls[i].additionalColors.length; ++j) {\n\t\t\t\t\t\tvar colorBut = document.createElement("button");\n\n\t\t\t\t\t\tcolorBut.innerHTML = controls[i].additionalColors[j].name;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcolorBut.id = controls[i].id + "-" + controls[i].name\n\t\t\t\t\t\tcolorBut.onclick = function(e) {\t\n\t\t\t\t\t\t\tvar m = myMaterials[controls[i].entityIndex];\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.factor = 1;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.enable = true;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.AlbedoPBR.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffuseColor.factor = 1;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.enable = true;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffuseColor.texture = null;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tm.channels.DiffusePBR.color = controls[i].additionalColors[j].colorRGB;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.enable = false;\n\t\t\t\t\t\t\tm.channels.DiffusePBR.factor = 1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tapi.setMaterial(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsingleControlContainer.appendChild(colorBut);\n\t\t\t\t\t}\t\n\t\t\t\t} else if (controls[i].type == "toggle") {\n\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\tvar toggleBut = document.createElement("button");\n\t\t\t\t\ttoggleBut.innerHTML = "Toggle " + controls[i].name;\n\t\t\t\t\ttoggleBut.id = controls[i].entity.instanceID;\n\t\t\t\t\ttoggleBut.onclick = function(e) {\n\t\t\t\t\t\tvar isVisible = toggleableItems[e.target.id];\n\t\t\t\t\t\tif (isVisible == "visible") {\n\t\t\t\t\t\t\tapi.hide(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "hidden";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapi.show(e.target.id);\n\t\t\t\t\t\t\ttoggleableItems[String(controls[i].entity.instanceID)] = "visible";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsingleControlContainer.appendChild(toggleBut);\n\t\t\t\t} else if (controls[i].type === "category") {\t\t\n\t\t\t\t\tisElementCategoryControlled = true;\n\t\t\t\t\t\n\t\t\t\t\tvar wrapper = document.createElement("div")\n\t\t\t\t\twrapper.classList.add("custom-select-wrapper")\n\t\t\t\t\twrapper.style.width = (appWidth/4) + "px";\n\t\t\t\t\tvar select = document.createElement("div")\n\t\t\t\t\tselect.classList.add("custom-select")\n\t\t\t\t\tvar selectTrigger = document.createElement("div")\n\t\t\t\t\tselectTrigger.classList.add("custom-select__trigger")\n\t\t\t\t\tvar triggerSpan = document.createElement("span")\n\t\t\t\t\tif (controls[i].configuration.isPrimary == true) {\n\t\t\t\t\t\ttriggerSpan.id = "primaryCategory";\n\t\t\t\t\t}\n\t\t\t\t\ttriggerSpan.textContent = Object.keys(controls[i].configuration.designations)[0]\n\t\t\t\t\ttriggerSpan.id = "triggerSpan-" + i;\n\t\t\t\t\tif(controls[i].configuration.isPrimary) {\n\t\t\t\t\t\ttriggerSpan.classList.add("primary")\n\t\t\t\t\t}\n\t\t\t\t\ttriggerSpan.classList.add("category")\n\t\t\t\t\tselectTrigger.appendChild(triggerSpan)\n\t\t\t\t\tvar arrow = document.createElement("div")\n\t\t\t\t\tarrow.classList.add("arrow")\n\t\t\t\t\tselectTrigger.appendChild(arrow)\n\t\t\t\t\t\n\t\t\t\t\tvar customOptions = document.createElement("div")\n\t\t\t\t\tcustomOptions.classList.add("custom-options")\n\t\t\t\t\tvar selectTitle = document.createElement("h3")\n\t\t\t\t\tselectTitle.classList.add("select-title")\n\t\t\t\t\tselectTitle.textContent = controls[i].name;\n\t\t\t\t\tcustomOptions.appendChild(selectTitle)\n\t\t\t\t\t\n\t\t\t\t\tselect.appendChild(selectTrigger)\n\t\t\t\t\tselect.appendChild(customOptions)\n\t\t\t\t\twrapper.appendChild(select)\t\n\t\t\t\t\t\n\t\t\t\t\tfor (var j=0; j<Object.keys(controls[i].configuration.designations).length; ++j) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\tcustomOption.classList.add("custom-option");\n\t\t\t\t\t\tif (j===0) {\n\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar name = Object.keys(controls[i].configuration.designations)[j];\n\t\t\t\t\t\tvar humanReadable = Object.values(controls[i].configuration.designations)[j]\n\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\tcustomOption.id = name + "-" + j + "-" + i;\n\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\tvar nameCode = this.id.split("-")[0]\n\t\t\t\t\t\t\tif (!this.classList.contains(\'selected\')) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.parentNode.querySelector(\'.custom-option.selected\').classList.remove(\'selected\');\n\t\t\t\t\t\t\t\tthis.classList.add(\'selected\');\n\t\t\t\t\t\t\t\tthis.closest(\'.custom-select\').querySelector(\'.custom-select__trigger span\').textContent = nameCode;\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\tvar allCategorySelects = document.querySelectorAll(".custom-select__trigger span.category")\n\t\t\t\t\t\t\tvar allowAnimations = true;\n\t\t\t\t\t\t\tfor (var k=0; k<allCategorySelects.length; ++k) {\n\t\t\t\t\t\t\t\tvar controlIndex = allCategorySelects[k].id.split("-")[1]\n\t\t\t\t\t\t\t\tvar nameCode = allCategorySelects[k].textContent;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (controls[controlIndex].configuration.allowsAnimation.indexOf(nameCode) == -1) {\n\t\t\t\t\t\t\t\t\tallowAnimations = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar animationButtons = document.querySelectorAll("#animation-buttons button")\n\t\t\t\t\t\t\tfor (var k=0; k<animationButtons.length; ++k) {\n\t\t\t\t\t\t\t\tanimationButtons[k].disabled = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (allowAnimations) {\n\t\t\t\t\t\t\t\tfor (var k=0; k<animationButtons.length; ++k) {\n\t\t\t\t\t\t\t\t\tanimationButtons[k].disabled = false;\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t}\n\n\t\t\t\t\twrapper.addEventListener(\'click\', function() {\n\t\t\t\t\t\tthis.querySelector(\'.custom-select\').classList.toggle(\'open\');\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar allCategorySelects = document.querySelectorAll(".custom-select__trigger span")\n\t\t\t\t\t\tvar selectedPrefixes = [];\n\t\t\t\t\t\tvar primaryLetterCode = "";\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var j=0; j<allCategorySelects.length; ++j) {\n\t\t\t\t\t\t\tselectedPrefixes.push(allCategorySelects[j].textContent);\n\t\t\t\t\t\t\tif(allCategorySelects[j].className.includes("primary")) {\n\t\t\t\t\t\t\t\tfor (var k=0; k<groupingOptions.length; ++k) {\n\t\t\t\t\t\t\t\t\tif (groupingOptions[k].designation === allCategorySelects[j].textContent) {\n\t\t\t\t\t\t\t\t\t\tprimaryLetterCode = groupingOptions[k].capitalLetter;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var j=0; j<sceneGraph.length; ++j) {\n\t\t\t\t\t\t\tvar indexContainingCodes = j;\n\t\t\t\t\t\t\tif (sceneGraph[j].name === "MatrixTransform") {\n\t\t\t\t\t\t\t\tindexContainingCodes = j - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeNameArray = sceneGraph[indexContainingCodes].name.split("-")\n\t\t\t\t\t\t\tvar mainDesignation = nodeNameArray[0];\n\t\t\t\t\t\t\tvar letterCode = nodeNameArray[1];\n\t\t\t\t\t\t\tapi.hide(sceneGraph[indexContainingCodes].instanceID);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (selectedPrefixes.indexOf(mainDesignation) > -1 && \n\t\t\t\t\t\t\t\t\tletterCode.includes(primaryLetterCode)) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tapi.show(sceneGraph[indexContainingCodes].instanceID);\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\t\t\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t}\n\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t}\n\t\t\t\n\t\t\t//show/hide to OG specification\n\t\t\tif (isElementCategoryControlled) {\n\t\t\t\twindow.addEventListener(\'click\', function(e) {\n\t\t\t\t\tfor (const select of document.querySelectorAll(\'.custom-select\')) {\n\t\t\t\t\t\tif (!select.contains(e.target)) {\n\t\t\t\t\t\t\tselect.classList.remove(\'open\');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tvar allCategorySelects = document.querySelectorAll(".custom-select__trigger span")\n\t\t\t\tvar selectedPrefixes = [];\n\t\t\t\t\n\t\t\t\tfor (var i=0; i<allCategorySelects.length; ++i) {\n\t\t\t\t\tselectedPrefixes.push(allCategorySelects[i].textContent);\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\tvar primaryLetterCode = "";\n\t\t\t\tvar allowAnimations = true;\n\t\t\t\tfor (var i=0; i<allCategorySelects.length; ++i) {\n\t\t\t\t\tselectedPrefixes.push(allCategorySelects[i].value);\n\t\t\t\t\tif(allCategorySelects[i].id === "primaryCategory") {\n\t\t\t\t\t\tprimaryLetterCode = groupingOptions[i].capitalLetter;\n\t\t\t\t\t}\n\t\t\t\t\tvar controlIndex = allCategorySelects[i].id.split("-")[1]\n\t\t\t\t\tvar nameCode = allCategorySelects[i].textContent;\n\t\t\t\t\tif (controls[controlIndex].configuration.allowsAnimation.indexOf(nameCode) == -1) {\n\t\t\t\t\t\tallowAnimations = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar animationButtons = document.querySelectorAll("#animation-buttons button")\n\t\t\t\tfor (var k=0; k<animationButtons.length; ++k) {\n\t\t\t\t\tanimationButtons[k].disabled = true;\n\t\t\t\t}\n\t\t\t\tif (allowAnimations) {\n\t\t\t\t\tfor (var k=0; k<animationButtons.length; ++k) {\n\t\t\t\t\t\tanimationButtons[k].disabled = false;\n\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var i=0; i<sceneGraph.length; ++i) {\n\t\t\t\t\tvar indexContainingCodes = i;\n\t\t\t\t\tif (sceneGraph[i].name === "MatrixTransform") {\n\t\t\t\t\t\tindexContainingCodes = i - 1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar nodeNameArray = sceneGraph[indexContainingCodes].name.split("-")\n\t\t\t\t\tvar mainDesignation = nodeNameArray[0];\n\t\t\t\t\tvar letterCode = nodeNameArray[1];\n\t\t\t\t\t\n\t\t\t\t\tapi.hide(sceneGraph[indexContainingCodes].instanceID);\n\t\t\t\t\t\n\t\t\t\t\tif (selectedPrefixes.indexOf(mainDesignation) > -1 && \n\t\t\t\t\t\t\tletterCode.includes(primaryLetterCode)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tapi.show(sceneGraph[indexContainingCodes].instanceID);\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif (animations.length > 0) {\n\t\t\t\tpollTime();\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif (surfaceConfigurationMode) {\n\t\t\t\t\n\t\t\t\tfor (var i=0; i<Object.keys(surfaceOptionMap).length; ++i) {\n\t\t\t\t\tvar surfaceName = Object.keys(surfaceOptionMap)[i]\n\t\t\t\t\tvar primaryInitialValue = Object.keys(surfaceOptionMap[surfaceName])[0]\n\t\t\t\t\t\n\t\t\t\t\tfor (j=0; j<surfaceAttributeNameMap[surfaceName].length; ++j) {\n\t\t\t\t\t\tif(j === 0) {\n\t\t\t\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\t\t\t\tsingleControlContainer.classList.add("single-control-container")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar wrapper = document.createElement("div")\n\t\t\t\t\t\t\twrapper.classList.add("custom-select-wrapper")\n\t\t\t\t\t\t\t/* set wrapper width */\n\t\t\t\t\t\t\twrapper.style.width = (appWidth/4) + "px";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar select = document.createElement("div")\n\t\t\t\t\t\t\tselect.classList.add("custom-select")\n\t\t\t\t\t\t\tvar selectTrigger = document.createElement("div")\n\t\t\t\t\t\t\tselectTrigger.classList.add("custom-select__trigger")\n\t\t\t\t\t\t\tvar triggerSpan = document.createElement("span")\n\t\t\t\t\t\t\ttriggerSpan.id = "primarySurfaceElement-" + surfaceName;\n\t\t\t\t\t\t\ttriggerSpan.textContent = Object.keys(surfaceOptionMap[surfaceName])[0]\n\t\t\t\t\t\t\ttriggerSpan.id = "triggerSpan-" + i;\n\t\t\t\t\t\t\ttriggerSpan.classList.add(surfaceName + "-triggerSpan")\n\t\t\t\t\t\t\tselectTrigger.appendChild(triggerSpan)\n\t\t\t\t\t\t\tvar arrow = document.createElement("div")\n\t\t\t\t\t\t\tarrow.classList.add("arrow")\n\t\t\t\t\t\t\tselectTrigger.appendChild(arrow)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar customOptions = document.createElement("div")\n\t\t\t\t\t\t\tcustomOptions.classList.add("custom-options")\n\t\t\t\t\t\t\tvar selectTitle = document.createElement("h3")\n\t\t\t\t\t\t\tselectTitle.classList.add("select-title")\n\t\t\t\t\t\t\tselectTitle.textContent = surfaceName + " - " + surfaceAttributeNameMap[surfaceName][j];\n\t\t\t\t\t\t\tcustomOptions.appendChild(selectTitle)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tselect.appendChild(selectTrigger)\n\t\t\t\t\t\t\tselect.appendChild(customOptions)\n\t\t\t\t\t\t\twrapper.appendChild(select)\t\n\t\t\t\t\t\t\tfor (var k=0; k<Object.keys(surfaceOptionMap[surfaceName]).length; ++k) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\t\tcustomOption.classList.add("custom-option");\n\t\t\t\t\t\t\t\tif (k===0) {\n\t\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar name = Object.keys(surfaceOptionMap[surfaceName])[k]\n\t\t\t\t\t\t\t\tvar humanReadable = materialNameSegmentMap[name];\n\t\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\t\tcustomOption.id = name + "-" + surfaceName + "-" + j + "-" + k + "-" + i;\n\t\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\t\t\tvar nameCode = this.id.split("-")[0]\n\t\t\t\t\t\t\t\t\tvar currentSurfaceName = this.id.split("-")[1]\n\t\t\t\t\t\t\t\t\tvar surfaceElementIndex = this.id.split("-")[2]\n\t\t\t\t\t\t\t\t\tif (!this.classList.contains(\'selected\')) {\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tthis.parentNode.querySelector(\'.custom-option.selected\').classList.remove(\'selected\');\n\t\t\t\t\t\t\t\t\t\tthis.classList.add(\'selected\');\n\t\t\t\t\t\t\t\t\t\tthis.closest(\'.custom-select\').querySelector(\'.custom-select__trigger span\').textContent = nameCode;\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvar subPrimaryOptionArrays = document.getElementsByClassName(currentSurfaceName + "-options")\n\t\t\t\t\t\t\t\t\tvar primaryAttributeName = surfaceAttributeNameMap[currentSurfaceName][0]\n\t\t\t\t\t\t\t\t\tfor(var l=0; l<subPrimaryOptionArrays.length; ++l) {\n\t\t\t\t\t\t\t\t\t\tvar subPrimaryOptionElementName = subPrimaryOptionArrays[l].id.split("-")[1]\n\t\t\t\t\t\t\t\t\t\tsubPrimaryOptionArrays[l].innerHTML = "";\n\t\t\t\t\t\t\t\t\t\tvar triggerSpan = document.getElementById("triggerSpan" + "-" + currentSurfaceName + "-" + surfaceAttributeNameMap[currentSurfaceName][l+1] + "-" + (l+1))\n\t\t\t\t\t\t\t\t\t\ttriggerSpan.textContent = surfaceOptionMap[currentSurfaceName][nameCode][l][0]\n\t\t\t\t\t\t\t\t\t\tfor (var m=0; m<surfaceOptionMap[currentSurfaceName][nameCode][l].length; ++m) {\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.classList.add("custom-option");\n\t\t\t\t\t\t\t\t\t\t\tif (m===0) {\n\t\t\t\t\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvar name = surfaceOptionMap[currentSurfaceName][nameCode][l][m]\n\t\t\t\t\t\t\t\t\t\t\tvar humanReadable = materialNameSegmentMap[name];\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.id = name + "-" + surfaceName + "-" + j + "-" + k + "-" + i;\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\t\t\t\t\t\tvar nameCode = this.id.split("-")[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tif (!this.classList.contains(\'selected\')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.parentNode.querySelector(\'.custom-option.selected\').classList.remove(\'selected\');\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.classList.add(\'selected\');\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.closest(\'.custom-select\').querySelector(\'.custom-select__trigger span\').textContent = nameCode;\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvar currentSurfaceName = this.id.split("-")[1]\n\t\t\t\t\t\t\t\t\t\t\t\tvar attributeIndex = this.id.split("-")[2]\n\t\t\t\t\t\t\t\t\t\t\t\tvar attributeName = surfaceAttributeNameMap[currentSurfaceName][attributeIndex]\n\t\t\t\t\t\t\t\t\t\t\t\tconfigureMaterials(currentSurfaceName, attributeName, api)\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsubPrimaryOptionArrays[l].appendChild(customOption)\n\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tconfigureMaterials(currentSurfaceName, primaryAttributeName, api)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twrapper.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\t\tthis.querySelector(\'.custom-select\').classList.toggle(\'open\');\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar allCategorySelects = document.querySelectorAll(".custom-select__trigger span")\n\t\t\t\t\t\t\t\tvar selectedPrefixes = [];\n\t\t\t\t\t\t\t\tvar primaryLetterCode = "";\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar singleControlContainer = document.createElement("div");\n\t\t\t\t\t\t\tsingleControlContainer.classList.add("single-control-container")\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar wrapper = document.createElement("div")\n\t\t\t\t\t\t\twrapper.classList.add("custom-select-wrapper")\n\t\t\t\t\t\t\twrapper.style.width = (appWidth/4) + "px";\n\t\t\t\t\t\t\tvar select = document.createElement("div")\n\t\t\t\t\t\t\tselect.classList.add("custom-select")\n\t\t\t\t\t\t\tvar selectTrigger = document.createElement("div")\n\t\t\t\t\t\t\tselectTrigger.classList.add("custom-select__trigger")\n\t\t\t\t\t\t\tvar triggerSpan = document.createElement("span")\n\t\t\t\t\t\t\ttriggerSpan.textContent = surfaceOptionMap[surfaceName][primaryInitialValue][j-1][0]\n\t\t\t\t\t\t\ttriggerSpan.id = "triggerSpan-" + surfaceName + "-" + surfaceAttributeNameMap[surfaceName][j] + "-" + j;\n\t\t\t\t\t\t\ttriggerSpan.classList.add(surfaceName + "-triggerSpan")\n\t\t\t\t\t\t\tselectTrigger.appendChild(triggerSpan)\n\t\t\t\t\t\t\tvar arrow = document.createElement("div")\n\t\t\t\t\t\t\tarrow.classList.add("arrow")\n\t\t\t\t\t\t\tselectTrigger.appendChild(arrow)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar customOptions = document.createElement("div")\n\t\t\t\t\t\t\tcustomOptions.id = surfaceName + "-" + surfaceAttributeNameMap[surfaceName][j] + "-options";\n\t\t\t\t\t\t\tcustomOptions.classList.add("custom-options")\n\t\t\t\t\t\t\tcustomOptions.classList.add(surfaceName + "-options")\n\t\t\t\t\t\t\tvar selectTitle = document.createElement("h3")\n\t\t\t\t\t\t\tselectTitle.classList.add("select-title")\n\t\t\t\t\t\t\tselectTitle.textContent = surfaceName + " - " + surfaceAttributeNameMap[surfaceName][j];\n\t\t\t\t\t\t\tcustomOptions.appendChild(selectTitle)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tselect.appendChild(selectTrigger)\n\t\t\t\t\t\t\tselect.appendChild(customOptions)\n\t\t\t\t\t\t\twrapper.appendChild(select)\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfor (var k=0; k<surfaceOptionMap[surfaceName][primaryInitialValue][j-1].length; ++k) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet customOption = document.createElement("span")\n\t\t\t\t\t\t\t\tcustomOption.classList.add("custom-option");\n\t\t\t\t\t\t\t\tif (k===0) {\n\t\t\t\t\t\t\t\t\tcustomOption.classList.add("selected");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar name = surfaceOptionMap[surfaceName][primaryInitialValue][j-1][k]\n\t\t\t\t\t\t\t\tvar humanReadable = materialNameSegmentMap[name];\n\t\t\t\t\t\t\t\tcustomOption.setAttribute("data-value", name)\n\t\t\t\t\t\t\t\tcustomOption.id = name + "-" + surfaceName + "-" + j + "-" + k + "-" + i;\n\t\t\t\t\t\t\t\tcustomOption.innerHTML = name + " - " + humanReadable;\n\t\t\t\t\t\t\t\tcustomOption.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\t\t\tvar nameCode = this.id.split("-")[0]\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (!this.classList.contains(\'selected\')) {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tthis.parentNode.querySelector(\'.custom-option.selected\').classList.remove(\'selected\');\n\t\t\t\t\t\t\t\t\t\tthis.classList.add(\'selected\');\n\t\t\t\t\t\t\t\t\t\tthis.closest(\'.custom-select\').querySelector(\'.custom-select__trigger span\').textContent = nameCode;\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvar currentSurfaceName = this.id.split("-")[1]\n\t\t\t\t\t\t\t\t\tvar attributeIndex = this.id.split("-")[2]\n\t\t\t\t\t\t\t\t\tvar attributeName = surfaceAttributeNameMap[currentSurfaceName][attributeIndex]\n\t\t\t\t\t\t\t\t\tconfigureMaterials(currentSurfaceName, attributeName, api)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcustomOptions.appendChild(customOption)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twrapper.addEventListener(\'click\', function() {\n\t\t\t\t\t\t\t\tthis.querySelector(\'.custom-select\').classList.toggle(\'open\');\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar allCategorySelects = document.querySelectorAll(".custom-select__trigger span")\n\t\t\t\t\t\t\t\tvar selectedPrefixes = [];\n\t\t\t\t\t\t\t\tvar primaryLetterCode = "";\t\t\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tsingleControlContainer.appendChild(wrapper);\t\t\n\t\t\t\t\t\t\tcontrolsContainer.appendChild(singleControlContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n};\n\nclient.init(uid, {\n\tsuccess: success,\n\terror: error,\n\tautostart: 1,\n\tpreload: 1,\n\tui_animations: 0,\n\tui_watermark: 0,\n\tui_inspector: 0,\n\tui_stop: 0,\n\tui_infos: 0,\n});\n\nvar configureMaterials = function(currentSurfaceName, currentElementName, api) {\n\t\t\t\t\t\t\t\n\t//get array of selected values\n\tvar relevantSelects = document.getElementsByClassName(currentSurfaceName + "-triggerSpan")\n\t\n\t//build name string via accessing selected values\n\tvar materialNameString = currentSurfaceName;\n\tfor (var k=0; k<relevantSelects.length; ++k) {\n\t\tmaterialNameString += "-" + relevantSelects[k].textContent;\n\t}\n\t\n\tvar newMaterial;\n\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\tif (myMaterials[k].name.startsWith(materialNameString)) {\n\t\t\tnewMaterial = JSON.parse(JSON.stringify(myMaterials[k]));\n\t\t}\n\t}\n\t\n\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\tif (myMaterials[k].name === currentSurfaceName) {\n\t\t\tmyMaterials[k].channels = JSON.parse(JSON.stringify(newMaterial.channels));\n\t\t\tmyMaterials[k].reflection = newMaterial.reflection;\n\t\t\tmyMaterials[k].reflector = newMaterial.reflector;\n\t\t\tmyMaterials[k].shadeless = newMaterial.shadeless;\n\t\t\tapi.setMaterial(myMaterials[k], function() {console.log("material updated")})\n\t\t}\n\t}\n}\n\nvar configureInitialSurfaces = function(api) {\n\t\n\tvar surfaceNames = Object.keys(surfaceOptionMap)\t\t\t\t\n\t\n\tfor (var i=0; i<surfaceNames.length; ++i) {\n\t\tvar currentSurfaceName = surfaceNames[i];\n\n\t\tvar firstPrimaryOption = Object.keys(surfaceOptionMap[currentSurfaceName])[0]\n\t\tvar optionsArray = surfaceOptionMap[currentSurfaceName][firstPrimaryOption]\n\t\tvar materialNameString = currentSurfaceName + "-" + firstPrimaryOption;\n\t\t\n\t\t\n\t\tfor (var k=0; k<optionsArray.length; ++k) {\n\t\t\tmaterialNameString += "-" + optionsArray[k][0];\n\t\t}\n\t\t\n\t\tvar newMaterial;\n\t\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\t\tif (myMaterials[k].name.startsWith(materialNameString)) {\n\t\t\t\tnewMaterial = JSON.parse(JSON.stringify(myMaterials[k]));\n\t\t\t}\n\t\t}\n\t\tfor (var k=0; k<myMaterials.length; ++k) {\n\t\t\tif (myMaterials[k].name === currentSurfaceName) {\n\t\t\t\tmyMaterials[k].channels = JSON.parse(JSON.stringify(newMaterial.channels));\n\t\t\t\tmyMaterials[k].reflection = newMaterial.reflection;\n\t\t\t\tmyMaterials[k].reflector = newMaterial.reflector;\n\t\t\t\tmyMaterials[k].shadeless = newMaterial.shadeless;\n\t\t\t\tapi.setMaterial(myMaterials[k], function() {console.log("material updated")})\n\t\t\t}\n\t\t}\n\t}\t\t\t\n}\n\n\n\n\n\n')},tt=function(){var t=Object(c.b)();return Object(i.jsx)("div",{id:"control-choice-modal",children:Object(i.jsxs)("div",{className:"control-choice-content",children:[Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("color")),t(U())},children:"Color"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("toggle")),t(U())},children:"Toggle"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("category")),t(U())},children:"Element Category"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("surfaceConfiguration")),t(U())},children:"Surface Configuration"}),Object(i.jsx)("div",{className:"control-choice",onClick:function(){t(f("animation")),t(U())},children:"Animation"})]})})},et=n(14),nt=n.n(et),it=function(t){var e=Object(c.b)(),n=t.option,a=Object(c.c)(L);return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsx)("label",{htmlFor:"materials",children:"Material:"}),rt(n,a,e)]}),Object(i.jsx)("div",{className:"additional-color__container",id:"".concat(n.id,"-additionalColors"),children:at(n.id,n.additionalColors,e)}),Object(i.jsx)("div",{className:"input__container",children:Object(i.jsx)("button",{id:"addColor",className:"add__button",onClick:function(){if(void 0==n.additionalColors||null==n.additionalColors){var t={id:n.id,key:"additionalColors",value:[{color:"#ffffff",name:"white",colorRGB:[1,1,1]}]};e(v(t))}else{for(var i=[],a=0;a<n.additionalColors.length;++a)i[a]=n.additionalColors[a];i.push({color:"#ffffff",name:"default",colorRGB:[1,1,1]}),e(v({id:n.id,key:"additionalColors",value:i}))}},children:"+ Add Color"})})]})},at=function(t,e,n){return null==e||void 0==e?Object(i.jsx)("div",{}):e.map((function(a,r,o){return Object(i.jsxs)("div",{className:"input__container",children:[Object(i.jsx)("label",{htmlFor:"defaultColor",children:"Alternate Color:"}),Object(i.jsx)("input",{type:"color",name:"additionalColor",id:"".concat(t,"-").concat(r,"-additionalColor"),value:e[r].color,onChange:function(e){for(var i=[],a=0;a<o.length;++a){var s={};a===r?(s.color=e.target.value,s.colorRGB=nt()(e.target.value,{format:"array"}).map((function(t){return t/255})),s.name=o[a].name):(s.color=o[a].color,s.colorRGB=o[a].colorRGB,s.name=o[a].name),i[a]=s}n(v({id:t,key:"additionalColors",value:i}))}}),Object(i.jsx)("input",{type:"text",value:e[r].name,onChange:function(e){for(var i=[],a=0;a<o.length;++a){var s={};a===r?(s.color=o[a].color,s.colorRGB=o[a].colorRGB,s.name=e.target.value):(s.color=o[a].color,s.colorRGB=o[a].colorRGB,s.name=o[a].name),i[a]=s}n(v({id:t,key:"additionalColors",value:i}))}})]})}))},rt=function(t,e,n){var a=e.map((function(t,e){return Object(i.jsx)("option",{value:e,children:t.name})}));return a.unshift(Object(i.jsx)("option",{value:"none",children:"Select a Material"})),Object(i.jsx)("select",{name:"materials",id:"materials",onChange:function(i){n(v({id:t.id,key:"entityIndex",value:i.target.value})),n(v({id:t.id,key:"entity",value:e[i.target.value]}))},value:t.entityIndex,children:a})},ot=function(t){var e=Object(c.b)(),n=t.option,a=Object(c.c)(_).map((function(t){return Object(i.jsxs)("option",{value:t.instanceID,children:[st(t.depth),t.name]})}));return a.unshift(Object(i.jsx)("option",{value:0,children:"Select a Node"})),Object(i.jsx)("select",{name:"nodes",id:"nodes",className:"material__select",value:n.entity.instanceID,onChange:function(t){return e(v({id:n.id,key:"entity",value:{instanceID:t.target.value}}))},children:a})},st=function(t){for(var e="",n=0;n<t;++n)e+="--";return e},ct=n(4),lt=function(t){for(var e=Object(c.b)(),n=t.option,a=Object(c.c)(_),r=[],o=[],s=0;s<a.length;++s){for(var l=a[s].name.split("-").filter((function(t){return""!=t})),d=l[0],u=l[1],m=l[2],p=3;p<l.length;++p)m+=l[p];-1==r.indexOf(d)&&-1==["Group","RootNode","MatrixTransform"].indexOf(d)&&(r.push(d),o.push({instanceID:a[s].instanceID,designation:d,capitalLetter:u,detailedTitle:m}))}e(O(o));return Object(i.jsxs)("div",{className:"grouping__container",children:[Object(i.jsxs)("div",{style:{display:"flex",borderBottom:"black 1px solid",borderTop:"black 1px solid"},children:[Object(i.jsx)("input",{type:"checkbox",checked:n.configuration.isPrimary,onChange:function(t){console.log("\n\n\n\n\ne.target.checked"),console.log(t.target.checked),console.log(t.target.value),console.log("\n\n\n");var i=Object(ct.a)(Object(ct.a)({},n.configuration),{},{isPrimary:t.target.checked});e(v({id:n.id,key:"configuration",value:i}))}}),Object(i.jsx)("div",{children:"Primary Category?"})]}),Object(i.jsx)("div",{className:"additional-color__container",id:"".concat(n.id,"-additionalColors"),children:o.map((function(t,a){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsxs)("div",{style:{display:"flex",flex:"1 1 auto"},children:[Object(i.jsx)("input",{type:"checkbox",checked:void 0!=n.configuration.designations[t.designation],onChange:function(){var i=JSON.parse(JSON.stringify(n.configuration.designations)),a={};if(void 0!=i[t.designation])delete i[t.designation],a={isPrimary:n.configuration.isPrimary,designations:i,allowsAnimation:n.configuration.allowsAnimation.filter((function(e){return e!=t.designation}))};else{i[t.designation]="";var r=n.configuration.allowsAnimation.map((function(t){return t}));r.push(t.designation),a={isPrimary:n.configuration.isPrimary,designations:i,allowsAnimation:r}}e(v({id:n.id,key:"configuration",value:a}))}}),Object(i.jsx)("div",{children:t.designation})]}),Object(i.jsx)("div",{children:"Animation:"}),Object(i.jsx)("input",{type:"checkbox",checked:n.configuration.allowsAnimation.includes(t.designation),onChange:function(){var i={},a=JSON.parse(JSON.stringify(n.configuration.designations));if(n.configuration.allowsAnimation.includes(t.designation))i={isPrimary:n.configuration.isPrimary,designations:a,allowsAnimation:n.configuration.allowsAnimation.filter((function(e){return e!=t.designation}))};else{var r=n.configuration.allowsAnimation.map((function(t){return t}));r.push(t.designation),i={isPrimary:n.configuration.isPrimary,designations:a,allowsAnimation:r}}e(v({id:n.id,key:"configuration",value:i}))}})]}),Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("div",{children:"Readable Name:"}),Object(i.jsx)("input",{type:"text",placeholder:"Enter human readable name",disabled:void 0==n.configuration.designations[t.designation],value:n.configuration.designations[t.designation],onChange:function(i){var a=JSON.parse(JSON.stringify(n.configuration.designations));a[t.designation]=i.target.value;var r={isPrimary:n.configuration.isPrimary,designations:a,allowsAnimation:n.configuration.allowsAnimation.map((function(t){return t}))};e(v({id:n.id,key:"configuration",value:r}))}})]})]},"element-".concat(n.id,"-").concat(a))}))})]})},dt=function(){var t=Object(c.b)(),e=Object(c.c)(J),n=Object(c.c)(V);t(x(!0));var a=function(e){return n[e].map((function(a,r){return Object(i.jsxs)("div",{children:["Attribute ",r,Object(i.jsx)("input",{value:a,onChange:function(i){var a=JSON.parse(JSON.stringify(n));a[e][r]=i.target.value,t(k(a))}})]})}))};return Object(i.jsxs)("div",{className:"grouping__container",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Surfaces & Attributes"}),Object.keys(n).map((function(t){return Object(i.jsxs)("div",{children:[t,a(t)]})}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Code Name Map:"}),Object.keys(e).map((function(n){return Object(i.jsxs)("div",{children:[n,Object(i.jsx)("input",{value:e[n],onChange:function(i){var a=JSON.parse(JSON.stringify(e));a[n]=i.target.value,t(N(a))}})]})}))]})]})},ut=function(t){var e=Object(c.b)(),n=t.option,a=Object(c.c)(E).map((function(t){return Object(i.jsx)("option",{value:t[0],children:t[1]})}));return a.unshift(Object(i.jsx)("option",{value:"none",children:"Select an Animation"})),Object(i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Animation:"}),Object(i.jsx)("select",{name:"animationSelect",value:n.configuration.animationUID,onChange:function(t){var i=Object(ct.a)(Object(ct.a)({},n.configuration),{},{animationUID:t.target.value});e(v({id:n.id,key:"configuration",value:i}))},children:a})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"start",children:"Start Time:"}),Object(i.jsx)("input",{type:"number",name:"start",value:n.configuration.startTime,onChange:function(t){var i=Object(ct.a)(Object(ct.a)({},n.configuration),{},{startTime:t.target.value});e(v({id:n.id,key:"configuration",value:i}))}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"end",children:"End Time:"}),Object(i.jsx)("input",{type:"number",name:"end",value:n.configuration.endTime,onChange:function(t){var i=Object(ct.a)(Object(ct.a)({},n.configuration),{},{endTime:t.target.value});e(v({id:n.id,key:"configuration",value:i}))}})]})]})},mt=n(15),pt=function(){var t=Object(c.c)(B),e=Object(c.c)(T),n=Object(c.b)(),a=function(t){return"color"===t.type?Object(i.jsx)(it,{option:t}):"toggle"===t.type?Object(i.jsx)(ot,{option:t}):"animation"===t.type?Object(i.jsx)(ut,{option:t}):"category"===t.type?Object(i.jsx)(lt,{option:t}):"surfaceConfiguration"===t.type?Object(i.jsx)(dt,{}):void 0};return Object(i.jsxs)("div",{style:{overflow:"auto",display:"flex",flexDirection:"column"},children:[Object(i.jsx)("button",{className:"add-option add__button",disabled:e,onClick:function(){return n(U())},children:"+ Add Option"}),Object(i.jsx)("div",{className:"single-option__panels__container",children:Object(i.jsx)(mt.ReactSortable,{list:t,setList:function(t){return n(h(t))},children:function(t,e){return t.map((function(t,n,r){return Object(i.jsxs)("div",{className:"single-option__panel",children:[Object(i.jsxs)("div",{className:"single-option__header",children:[Object(i.jsxs)("h3",{className:"single-option__title",children:[t.id,". ",t.type]}),Object(i.jsx)("button",{id:"collapseButton".concat(t.id),className:"collapse__button",onClick:function(n){return e(v({id:t.id,key:"isExpanded",value:!t.isExpanded}))},children:t.isExpanded?"Collapse":"Expand"}),Object(i.jsx)("button",{title:"Remove option",onClick:function(){var n=r.filter((function(e){return e.id!==t.id}));e(h(n))},children:Object(i.jsx)("svg",{fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:"1em",width:"1em",viewBox:"0 0 40 40",style:{verticalAlign:"middle"},children:Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"m15.9 30.7v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 \r 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.7 0v-15.7q0-0.3-0.2-0.5t-0.5-0.2h-1.4q-0.3 0-0.5 \r 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 0.2h1.4q0.3 0 0.5-0.2t0.2-0.5z m5.8 \r 0v-15.7q0-0.3-0.2-0.5t-0.6-0.2h-1.4q-0.3 0-0.5 0.2t-0.2 0.5v15.7q0 0.3 0.2 0.5t0.5 \r 0.2h1.4q0.4 0 0.6-0.2t0.2-0.5z m-12.2-22.1h10l-1.1-2.6q-0.1-0.2-0.3-0.3h-7.1q-0.2 \r 0.1-0.4 0.3z m20.7 0.7v1.4q0 0.3-0.2 0.5t-0.5 0.2h-2.1v21.2q0 1.8-1.1 3.2t-2.5 \r 1.3h-18.6q-1.4 0-2.5-1.3t-1-3.1v-21.3h-2.2q-0.3 0-0.5-0.2t-0.2-0.5v-1.4q0-0.3 \r 0.2-0.5t0.5-0.2h6.9l1.6-3.8q0.3-0.8 1.2-1.4t1.7-0.5h7.2q0.9 0 1.8 0.5t1.2 1.4l1.5 \r 3.8h6.9q0.3 0 0.5 0.2t0.2 0.5z"})})})})]}),Object(i.jsxs)("div",{style:{display:t.isExpanded?"block":"none"},children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("p",{className:"nameFieldTitle",children:"Name:"}),Object(i.jsx)("input",{type:"text",name:"colorName",id:"colorName",value:t.name,onChange:function(n){return e(v({id:t.id,key:"name",value:n.target.value}))}})]}),a(t)]})]},"option-".concat(n))}))}(t,n)})})]})},ft=function(){var t=Object(c.b)(),e=Object(c.c)(_),n=Object(c.c)(D),a=Object(c.c)(P),r=e.map((function(e){return Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("input",{id:e.instanceID,type:"checkbox",checked:a[e.instanceID],onChange:function(e){e.target.checked?(n.show(e.target.id),t(j({id:e.target.id,value:!0}))):(n.hide(e.target.id),t(j({id:e.target.id,value:!1})))}}),Object(i.jsxs)("div",{className:"node-name",children:[gt(e.depth),e.name]})]})}));return r.unshift(Object(i.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid black"},children:[Object(i.jsx)("input",{type:"checkbox",checked:Object.values(a).reduce((function(t,e){return t&&e})),onChange:function(e){t(S(e.target.checked))}}),Object(i.jsx)("div",{className:"node-name",children:"All Nodes"})]})),Object(i.jsxs)("div",{style:{overflow:"auto"},children:[Object(i.jsx)("div",{id:"nodeControls",children:r}),Object(i.jsx)("div",{id:"animationControls"})]})},gt=function(t){for(var e="",n=0;n<t;++n)e+="--";return e},vt=function(){var t=Object(c.b)(),e=Object(c.c)(G),n=Object(c.c)(T),a={backgroundColor:"nodes"==e?"white":"gray"},r={backgroundColor:"options"==e?"white":"gray"};return Object(i.jsxs)("div",{className:"control-menu",children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("button",{className:"control-menu__button",style:a,disabled:n,onClick:function(){return t(y("nodes"))},children:"Nodes"}),Object(i.jsx)("button",{className:"control-menu__button",style:r,onClick:function(){return t(y("options"))},children:"Options"})]}),function(t){return"options"===t?Object(i.jsx)(pt,{}):"nodes"===t?Object(i.jsx)(ft,{}):void 0}(e)]})};n(31),n(32);var ht=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)($,{}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)(K,{}),Object(i.jsx)(vt,{}),Object(i.jsx)(Q,{}),Object(i.jsx)(tt,{})]})]})},bt=Object(l.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),jt=bt.actions,yt=(jt.increment,jt.decrement,jt.incrementByAmount,bt.reducer),Ot=n(16),Ct=n.n(Ot),xt=Object(l.a)({reducer:{counter:yt,viewer:W},middleware:function(t){return t().concat(Ct.a)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(c.a,{store:xt,children:Object(i.jsx)(ht,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.86104891.chunk.js.map